---
title: "ã€é–‹ç™¼è‡ªå‹•åŒ–ã€‘ä½¿ç”¨ n8n æ‰“é€ è·¨å¹³å°é€šçŸ¥ç³»çµ±ï¼šGitHub æäº¤è‡ªå‹•åŒæ­¥è‡³ LINE èˆ‡ Discord"
date: "2026-02-09"
description: "ä¸€ä»½è©³ç›¡çš„æŒ‡å—ï¼Œæ•™æ‚¨å¦‚ä½•åˆ©ç”¨ n8n æ§‹å»ºä¸€å€‹è‡ªå‹•åŒ–å·¥ä½œæµï¼Œå°‡ GitHub æäº¤å³æ™‚åŒæ­¥è‡³ LINE èˆ‡ Discordï¼Œæå‡åœ˜éšŠå”ä½œæ•ˆç‡ã€‚"
category: "Automation"
tags: ["n8n", "Automation", "GitHub", "LINE", "Discord", "Webhook", "CI/CD"]
---

# ã€é–‹ç™¼è‡ªå‹•åŒ–ã€‘ä½¿ç”¨ n8n æ‰“é€ è·¨å¹³å°é€šçŸ¥ç³»çµ±ï¼šGitHub æäº¤è‡ªå‹•åŒæ­¥è‡³ LINE èˆ‡ Discord

**ä½œè€…ï¼š** Manus AI
**æ—¥æœŸï¼š** 2026å¹´2æœˆ11æ—¥

---

## 1. Overview

åœ¨ç¾ä»£è»Ÿé«”é–‹ç™¼åœ˜éšŠä¸­ï¼Œå³æ™‚ä¸”é«˜æ•ˆçš„æºé€šå°æ–¼ä¿æŒé–‹ç™¼æµç¨‹é †æš¢è‡³é—œé‡è¦ã€‚ç•¶åœ˜éšŠæˆå“¡åœ¨ GitHub ä¸Šæäº¤ç¨‹å¼ç¢¼ã€é–‹å•Ÿ Pull Request æˆ–åˆä½µåˆ†æ”¯æ™‚ï¼Œå¦‚æœèƒ½å³æ™‚å°‡é€™äº›é—œéµäº‹ä»¶åŒæ­¥åˆ°å¸¸ç”¨çš„é€šè¨Šå¹³å°ï¼ˆå¦‚ LINE æˆ– Discordï¼‰ï¼Œå°‡èƒ½é¡¯è‘—æå‡åœ˜éšŠçš„å”ä½œæ•ˆç‡å’Œè³‡è¨Šé€æ˜åº¦ã€‚ç„¶è€Œï¼Œæ‰‹å‹•è½‰ç™¼é€™äº›é€šçŸ¥æ—¢è€—æ™‚åˆå®¹æ˜“å‡ºéŒ¯ã€‚

æœ¬æ–‡ä»¶å°‡æ·±å…¥æ¢è¨å¦‚ä½•åˆ©ç”¨ n8n é€™å€‹å¼·å¤§çš„é–‹æºä½ç¨‹å¼ç¢¼è‡ªå‹•åŒ–å¹³å°ï¼Œå¾é›¶é–‹å§‹æ§‹å»ºä¸€å€‹è·¨å¹³å°çš„é€šçŸ¥ç³»çµ±ã€‚æˆ‘å€‘å°‡å­¸ç¿’å¦‚ä½•é…ç½® GitHub Webhook ä½œç‚ºè§¸ç™¼å™¨ï¼Œé€é n8n é€²è¡Œæ•¸æ“šè™•ç†å’Œæ ¼å¼è½‰æ›ï¼Œæœ€çµ‚å°‡çµæ§‹åŒ–çš„è¨Šæ¯æ¨æ’­è‡³ LINE ç¾¤çµ„å’Œ Discord é »é“ã€‚é€™ä¸åƒ…èƒ½å¯¦ç¾é–‹ç™¼æ´»å‹•çš„è‡ªå‹•åŒ–é€šçŸ¥ï¼Œé‚„èƒ½ç‚ºåœ˜éšŠç¯€çœå¯¶è²´çš„æ™‚é–“ï¼Œè®“é–‹ç™¼è€…æ›´å°ˆæ³¨æ–¼ç¨‹å¼ç¢¼æœ¬èº«ã€‚

## 2. Architecture / Design

æœ¬é€šçŸ¥ç³»çµ±çš„æ ¸å¿ƒæ¶æ§‹åŸºæ–¼ n8n çš„äº‹ä»¶é©…å‹•æ¨¡å‹ï¼Œé€é GitHub Webhook è§¸ç™¼å·¥ä½œæµï¼Œä¸¦å°‡è™•ç†å¾Œçš„æ•¸æ“šåˆ†ç™¼åˆ°å¤šå€‹é€šè¨Šå¹³å°ã€‚æ•´å€‹å·¥ä½œæµè¨­è¨ˆæ—¨åœ¨å¯¦ç¾é«˜æ•ˆç‡ã€å¯æ“´å±•æ€§å’Œæ˜“æ–¼ç¶­è­·æ€§ã€‚

### 2.1 å·¥ä½œæµæ¶æ§‹ (Workflow Architecture)

æ•´å€‹è‡ªå‹•åŒ–å·¥ä½œæµå°‡åˆ†ç‚ºä»¥ä¸‹ä¸‰å€‹ä¸»è¦éšæ®µï¼š

#### 2.1.1 è§¸ç™¼éšæ®µ (Trigger Phase)

æ­¤éšæ®µçš„ç›®æ¨™æ˜¯æ¥æ”¶ä¾†è‡ª GitHub çš„äº‹ä»¶é€šçŸ¥ï¼Œä¸¦å°‡å…¶ä½œç‚º n8n å·¥ä½œæµçš„èµ·å§‹é»ã€‚

- **GitHub Webhook Node**ï¼š
  - åœ¨ n8n å·¥ä½œæµä¸­é…ç½®ä¸€å€‹ Webhook ç¯€é»ï¼Œå®ƒå°‡ç”Ÿæˆä¸€å€‹å”¯ä¸€çš„ URLã€‚é€™å€‹ URL å°‡è¢«é…ç½®åˆ° GitHub å€‰åº«çš„ Webhook è¨­å®šä¸­ã€‚
  - GitHub Webhook æ‡‰ç›£è½ç‰¹å®šçš„äº‹ä»¶ï¼Œä¾‹å¦‚ `push`ï¼ˆç¨‹å¼ç¢¼æäº¤ï¼‰ã€`pull_request`ï¼ˆæ‹‰å–è«‹æ±‚çš„å‰µå»ºã€æ›´æ–°ã€åˆä½µï¼‰æˆ– `issues`ï¼ˆå•é¡Œçš„å‰µå»ºã€æ›´æ–°ï¼‰ã€‚æœ¬æŒ‡å—ä¸»è¦é—œæ³¨ `push` äº‹ä»¶ã€‚
  - ç‚ºäº†ç¢ºä¿å®‰å…¨æ€§ï¼ŒGitHub Webhook æ‡‰é…ç½®ä¸€å€‹ Secret Tokenã€‚n8n çš„ Webhook ç¯€é»å¯ä»¥é©—è­‰é€™å€‹ Secretï¼Œä»¥ç¢ºä¿è«‹æ±‚ç¢ºå¯¦ä¾†è‡ª GitHubï¼Œé˜²æ­¢æƒ¡æ„è«‹æ±‚ [1]ã€‚

#### 2.1.2 è³‡æ–™è™•ç†éšæ®µ (Processing Phase)

æ¥æ”¶åˆ° GitHub çš„åŸå§‹ Webhook Payload å¾Œï¼Œæ­¤éšæ®µè² è²¬æå–é—œéµè³‡è¨Šã€é€²è¡Œå¿…è¦çš„æ ¼å¼è½‰æ›ï¼Œä¸¦æ ¹æ“šéœ€æ±‚é€²è¡Œéæ¿¾ã€‚

- **Set Node / Code Node**ï¼š
  - GitHub Webhook ç™¼é€çš„ JSON Payload åŒ…å«äº†å¤§é‡çš„è³‡è¨Šã€‚æˆ‘å€‘éœ€è¦ä½¿ç”¨ n8n çš„ `Set` ç¯€é»æˆ– `Code` ç¯€é»ä¾†æå–å°é€šçŸ¥æœ‰ç”¨çš„é—œéµæ¬„ä½ï¼Œä¾‹å¦‚ï¼š
    - **ä½œè€… (Author)**ï¼šæäº¤ç¨‹å¼ç¢¼çš„ä½¿ç”¨è€…åç¨±æˆ–é¡¯ç¤ºåç¨±ã€‚
    - **æäº¤è¨Šæ¯ (Commit Message)**ï¼šæœ€æ–°çš„æäº¤è¨Šæ¯ã€‚
    - **åˆ†æ”¯ (Branch)**ï¼šç™¼ç”Ÿæäº¤çš„åˆ†æ”¯åç¨±ï¼ˆä¾‹å¦‚ `refs/heads/main`ï¼Œéœ€è¦æå– `main`ï¼‰ã€‚
    - **å€‰åº«åç¨± (Repo Name)**ï¼šç™¼ç”Ÿäº‹ä»¶çš„ GitHub å€‰åº«åç¨±ã€‚
    - **æäº¤é€£çµ (Commit URL)**ï¼šæŒ‡å‘ GitHub ä¸Šè©²æäº¤çš„é€£çµã€‚
    - **æ™‚é–“æˆ³ (Timestamp)**ï¼šæäº¤ç™¼ç”Ÿçš„æ™‚é–“ï¼Œé€šå¸¸æ˜¯ ISO 8601 æ ¼å¼ï¼Œéœ€è¦è½‰æ›ç‚ºæ›´æ˜“è®€çš„åœ¨åœ°åŒ–æ ¼å¼ã€‚
  - `Code` ç¯€é»æä¾›äº†æ›´å¤§çš„éˆæ´»æ€§ï¼Œå¯ä»¥ä½¿ç”¨ JavaScript é€²è¡Œè¤‡é›œçš„æ•¸æ“šè½‰æ›å’Œé‚è¼¯åˆ¤æ–·ï¼Œä¾‹å¦‚å°‡å¤šå€‹æäº¤è¨Šæ¯åˆä½µç‚ºä¸€å€‹æ‘˜è¦ã€‚
- **Filter Node (é¸é…)**ï¼š
  - ä¸¦éæ‰€æœ‰ GitHub äº‹ä»¶éƒ½éœ€è¦ç™¼é€é€šçŸ¥ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½åªé—œå¿ƒ `main` åˆ†æ”¯çš„æäº¤ï¼Œæˆ–è€…åªåœ¨ Pull Request è¢«åˆä½µæ™‚æ‰ç™¼é€é€šçŸ¥ã€‚`Filter` ç¯€é»å¯ä»¥æ ¹æ“šæå–çš„æ•¸æ“šè¨­ç½®æ¢ä»¶ï¼Œåªå…è¨±ç¬¦åˆç‰¹å®šæ¢ä»¶çš„æ•¸æ“šç¹¼çºŒæµå‘å¾ŒçºŒçš„é€šçŸ¥ç¯€é»ï¼Œå¾è€Œæ¸›å°‘é€šçŸ¥å™ªéŸ³ã€‚

#### 2.1.3 ç™¼é€éšæ®µ (Distribution Phase)

ç¶“éè™•ç†å’Œéæ¿¾çš„æ•¸æ“šå°‡è¢«æ ¼å¼åŒ–ï¼Œä¸¦ç™¼é€åˆ°ç›®æ¨™é€šè¨Šå¹³å°ã€‚

- **LINE Node (LINE Notify æˆ– Messaging API)**ï¼š
  - **LINE Notify**ï¼šé©ç”¨æ–¼å‘å€‹äººæˆ–ç¾¤çµ„ç™¼é€ç°¡å–®çš„æ–‡å­—é€šçŸ¥ã€‚éœ€è¦å…ˆåœ¨ LINE Notify ç¶²ç«™ä¸Šç²å– Access Tokenã€‚n8n çš„ HTTP Request ç¯€é»æˆ–å°ˆç”¨çš„ LINE Notify ç¯€é»å¯ä»¥ç™¼é€è«‹æ±‚ã€‚
  - **LINE Messaging API**ï¼šå¦‚æœéœ€è¦æ›´è±å¯Œçš„è¨Šæ¯æ ¼å¼ï¼ˆå¦‚åœ–ç‰‡ã€æ¨¡æ¿è¨Šæ¯ï¼‰æˆ–èˆ‡ LINE Bot äº’å‹•ï¼Œå‰‡éœ€è¦ä½¿ç”¨ LINE Messaging APIã€‚é€™é€šå¸¸æ¶‰åŠå»ºç«‹ LINE Botï¼Œä¸¦ä½¿ç”¨ n8n çš„ HTTP Request ç¯€é»ç™¼é€ POST è«‹æ±‚åˆ° Messaging API çš„ç«¯é» [2]ã€‚
  - è¨Šæ¯å…§å®¹æ‡‰ç°¡æ½”æ˜ç­ï¼Œæ”¯æ´è¡¨æƒ…ç¬¦è™Ÿå¯ä»¥æå‡å¯è®€æ€§ã€‚
- **Discord Node**ï¼š
  - **Discord Webhook**ï¼šé€™æ˜¯å‘ Discord é »é“ç™¼é€é€šçŸ¥æœ€ç°¡å–®ä¸”æ¨è–¦çš„æ–¹å¼ã€‚åœ¨ Discord é »é“è¨­å®šä¸­å‰µå»º Webhookï¼Œç²å–å…¶ URLã€‚n8n çš„ Discord ç¯€é»æˆ– HTTP Request ç¯€é»å¯ä»¥å‘æ­¤ URL ç™¼é€ POST è«‹æ±‚ [3]ã€‚
  - **Embed è¨Šæ¯**ï¼šDiscord Webhook æ”¯æ´ç™¼é€ Embed è¨Šæ¯ï¼Œé€™æ˜¯ä¸€ç¨®çµæ§‹åŒ–ã€è¦–è¦ºè±å¯Œçš„è¨Šæ¯æ ¼å¼ï¼Œå¯ä»¥åŒ…å«æ¨™é¡Œã€æè¿°ã€é¡è‰²ã€åœ–ç‰‡ã€ä½œè€…è³‡è¨Šå’Œé€£çµï¼Œæ¥µå¤§åœ°æå‡äº†é€šçŸ¥çš„å°ˆæ¥­æ€§å’Œå¯è®€æ€§ã€‚

### 2.2 æŠ€è¡“æ£§èˆ‡å·¥å…·

| é¡åˆ¥           | æ¨è–¦æŠ€è¡“/å·¥å…·                                     | æè¿°                                               |
| :------------- | :------------------------------------------------ | :------------------------------------------------- |
| **è‡ªå‹•åŒ–å¹³å°** | n8n (Self-hosted æˆ– Cloud)                        | æ ¸å¿ƒè‡ªå‹•åŒ–å¼•æ“ï¼Œæä¾›ä½ç¨‹å¼ç¢¼ä»‹é¢å’Œè±å¯Œçš„æ•´åˆç¯€é»ã€‚ |
| **äº‹ä»¶ä¾†æº**   | GitHub Webhook                                    | è§¸ç™¼å·¥ä½œæµçš„äº‹ä»¶æºï¼Œç›£è½ç¨‹å¼ç¢¼å€‰åº«çš„æ´»å‹•ã€‚         |
| **é€šè¨Šå¹³å°**   | LINE Messaging API / LINE Notify, Discord Webhook | è¨Šæ¯ç™¼é€çš„çµ‚ç«¯ï¼Œæ”¯æ´å€‹äººã€ç¾¤çµ„æˆ–é »é“é€šçŸ¥ã€‚         |
| **é‚è¼¯è™•ç†**   | JavaScript (n8n Code Node)                        | ç”¨æ–¼è¤‡é›œçš„æ•¸æ“šè½‰æ›ã€æ¢ä»¶åˆ¤æ–·å’Œè‡ªå®šç¾©é‚è¼¯ã€‚         |
| **å®‰å…¨æ€§**     | ç’°å¢ƒè®Šæ•¸ (Environment Variables)                  | å„²å­˜ API Key, Secret ç­‰æ•æ„Ÿè³‡è¨Šï¼Œé¿å…ç¡¬ç·¨ç¢¼ã€‚      |

## 3. Prerequisites

åœ¨é–‹å§‹æ§‹å»ºé€™å€‹é€šçŸ¥ç³»çµ±ä¹‹å‰ï¼Œè«‹ç¢ºä¿æ‚¨å…·å‚™ä»¥ä¸‹æ¢ä»¶ï¼š

- **n8n å¯¦ä¾‹**ï¼šä¸€å€‹æ­£åœ¨é‹è¡Œä¸”å¯è¨ªå•çš„ n8n å¯¦ä¾‹ï¼ˆå¯ä»¥æ˜¯æœ¬åœ° Docker éƒ¨ç½²ã€é›²ç«¯è¨—ç®¡æˆ– n8n Cloudï¼‰ã€‚
- **GitHub å¸³æˆ¶èˆ‡å€‰åº«**ï¼šä¸€å€‹ GitHub å¸³æˆ¶å’Œæ‚¨å¸Œæœ›ç›£è½çš„ç¨‹å¼ç¢¼å€‰åº«ï¼Œä¸¦å…·å‚™é…ç½® Webhook çš„æ¬Šé™ã€‚
- **LINE å¸³æˆ¶**ï¼š
  - å¦‚æœä½¿ç”¨ LINE Notifyï¼Œéœ€è¦ä¸€å€‹ LINE å¸³æˆ¶ä¾†ç²å– Access Tokenã€‚
  - å¦‚æœä½¿ç”¨ LINE Messaging APIï¼Œéœ€è¦ä¸€å€‹ LINE Developers å¸³æˆ¶ä¾†å‰µå»º Messaging API Channelã€‚
- **Discord å¸³æˆ¶èˆ‡ä¼ºæœå™¨/é »é“**ï¼šä¸€å€‹ Discord å¸³æˆ¶å’Œæ‚¨å¸Œæœ›ç™¼é€é€šçŸ¥çš„ä¼ºæœå™¨/é »é“ï¼Œä¸¦å…·å‚™å‰µå»º Webhook çš„æ¬Šé™ã€‚
- **åŸºç¤ JSON çŸ¥è­˜**ï¼šç†è§£ JSON æ•¸æ“šçµæ§‹ï¼Œå› ç‚º GitHub Webhook Payload å’Œ API è«‹æ±‚/éŸ¿æ‡‰éƒ½æ˜¯ JSON æ ¼å¼ã€‚

## 4. Implementation / Code Example

ä»¥ä¸‹å°‡æä¾›ä¸€å€‹ç°¡åŒ–çš„ n8n å·¥ä½œæµé…ç½®ç¯„ä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å°‡ GitHub `push` äº‹ä»¶åŒæ­¥åˆ° Discordã€‚LINE çš„æ•´åˆæ–¹å¼é¡ä¼¼ï¼Œä¸»è¦å·®ç•°åœ¨æ–¼ API è«‹æ±‚çš„æ ¼å¼ã€‚

### 4.1 GitHub Webhook é…ç½®

1.  åœ¨ n8n ä¸­å‰µå»ºä¸€å€‹æ–°çš„å·¥ä½œæµï¼Œä¸¦æ·»åŠ ä¸€å€‹ **Webhook** ç¯€é»ã€‚
2.  å°‡ Webhook ç¯€é»çš„ **Webhook URL** è¤‡è£½ä¸‹ä¾†ã€‚
3.  åœ¨æ‚¨çš„ GitHub å€‰åº«ä¸­ï¼Œå°èˆªåˆ° `Settings` -> `Webhooks` -> `Add webhook`ã€‚
4.  **Payload URL**ï¼šè²¼ä¸Šå¾ n8n è¤‡è£½çš„ Webhook URLã€‚
5.  **Content type**ï¼šé¸æ“‡ `application/json`ã€‚
6.  **Secret**ï¼šè¼¸å…¥ä¸€å€‹å®‰å…¨çš„ Secret Tokenï¼ˆä¾‹å¦‚ä½¿ç”¨å¯†ç¢¼ç”Ÿæˆå™¨ç”Ÿæˆï¼‰ï¼Œä¸¦å°‡å…¶è¨˜éŒ„ä¸‹ä¾†ã€‚é€™å€‹ Secret ä¹Ÿå°‡åœ¨ n8n Webhook ç¯€é»ä¸­é…ç½®ã€‚
7.  **Which events would you like to trigger this webhook?**ï¼šé¸æ“‡ `Just the push event`ã€‚
8.  é»æ“Š `Add webhook`ã€‚

### 4.2 n8n å·¥ä½œæµç¯„ä¾‹ (Discord é€šçŸ¥)

ä»¥ä¸‹æ˜¯ä¸€å€‹ç°¡åŒ–çš„ n8n å·¥ä½œæµ JSON é…ç½®ï¼Œæ‚¨å¯ä»¥ç›´æ¥å°å…¥åˆ° n8n ä¸­ã€‚é€™å€‹å·¥ä½œæµæœƒç›£è½ GitHub çš„ `push` äº‹ä»¶ï¼Œæå–é—œéµè³‡è¨Šï¼Œä¸¦ç™¼é€ä¸€å€‹æ ¼å¼åŒ–çš„ Embed è¨Šæ¯åˆ° Discordã€‚

```json
{
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "/github-webhook",
        "responseMode": "lastNode",
        "options": {
          "rawBody": "true",
          "webhookSet": "true",
          "webhookId": "{{ $node.Webhook.id }}",
          "webhookSecret": "{{ $env.GITHUB_WEBHOOK_SECRET }}" // å¾ç’°å¢ƒè®Šæ•¸ç²å– Secret
        }
      },
      "name": "GitHub Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [240, 300]
    },
    {
      "parameters": {
        "values": [
          {
            "name": "repoName",
            "value": "{{ $json.body.repository.name }}"
          },
          {
            "name": "pusherName",
            "value": "{{ $json.body.pusher.name }}"
          },
          {
            "name": "commitMessage",
            "value": "{{ $json.body.head_commit.message }}"
          },
          {
            "name": "commitUrl",
            "value": "{{ $json.body.head_commit.url }}"
          },
          {
            "name": "branchName",
            "value": "{{ $json.body.ref.split(\'/\').pop() }}"
          },
          {
            "name": "timestamp",
            "value": "{{ new Date($json.body.head_commit.timestamp).toLocaleString(\'zh-TW\', { timeZone: \'Asia/Taipei\' }) }}"
          }
        ]
      },
      "name": "Extract Data",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
      "position": [460, 300]
    },
    {
      "parameters": {
        "url": "{{ $env.DISCORD_WEBHOOK_URL }}", // å¾ç’°å¢ƒè®Šæ•¸ç²å– Discord Webhook URL
        "jsonBody": true,
        "body": {
          "embeds": [
            {
              "title": "ğŸš€ [{{ $json.repoName }}] æ–°çš„ç¨‹å¼ç¢¼æäº¤",
              "description": "**åˆ†æ”¯:** `{{ $json.branchName }}`\n**ä½œè€…:** {{ $json.pusherName }}\n**è¨Šæ¯:** {{ $json.commitMessage }}\n**æ™‚é–“:** {{ $json.timestamp }}",
              "color": 5814783, // ç¶ è‰²
              "url": "{{ $json.commitUrl }}",
              "footer": {
                "text": "ç”± GitHub Webhook è§¸ç™¼"
              }
            }
          ]
        }
      },
      "name": "Send Discord Notification",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [680, 300]
    }
  ],
  "connections": {
    "GitHub Webhook": {
      "main": [[{ "node": "Extract Data", "index": 0 }]]
    },
    "Extract Data": {
      "main": [[{ "node": "Send Discord Notification", "index": 0 }]]
    }
  }
}
```

### 4.3 ç’°å¢ƒè®Šæ•¸é…ç½®

åœ¨ n8n å¯¦ä¾‹çš„ç’°å¢ƒè®Šæ•¸ä¸­ï¼Œè¨­å®šä»¥ä¸‹è®Šæ•¸ï¼š

- `GITHUB_WEBHOOK_SECRET`ï¼šæ‚¨åœ¨ GitHub Webhook ä¸­è¨­å®šçš„ Secret Tokenã€‚
- `DISCORD_WEBHOOK_URL`ï¼šæ‚¨åœ¨ Discord é »é“ä¸­å‰µå»ºçš„ Webhook URLã€‚

### 4.4 LINE Notify æ•´åˆç¯„ä¾‹ (ä½¿ç”¨ HTTP Request ç¯€é»)

å¦‚æœæ‚¨æƒ³æ•´åˆ LINE Notifyï¼Œå¯ä»¥æ·»åŠ å¦ä¸€å€‹ HTTP Request ç¯€é»ï¼š

```json
{
  "parameters": {
    "url": "https://notify-api.line.me/api/notify",
    "httpMethod": "POST",
    "sendHeaders": true,
    "headerData": [
      {
        "name": "Authorization",
        "value": "Bearer {{ $env.LINE_NOTIFY_TOKEN }}"
      },
      {
        "name": "Content-Type",
        "value": "application/x-www-form-urlencoded"
      }
    ],
    "sendBody": true,
    "bodyParameters": [
      {
        "name": "message",
        "value": "= ğŸš€ [{{ $json.repoName }}] æœ‰æ–°çš„æäº¤ï¼\nğŸ‘¤ ä½œè€…ï¼š{{ $json.pusherName }}\nğŸ“ è¨Šæ¯ï¼š{{ $json.commitMessage }}\nğŸ”— é€£çµï¼š{{ $json.commitUrl }}\næ™‚é–“ï¼š{{ $json.timestamp }}"
      }
    ]
  },
  "name": "Send LINE Notification",
  "type": "n8n-nodes-base.httpRequest",
  "typeVersion": 3,
  "position": [680, 450]
}
```

åŒæ¨£ï¼Œæ‚¨éœ€è¦åœ¨ n8n ç’°å¢ƒè®Šæ•¸ä¸­è¨­å®š `LINE_NOTIFY_TOKEN`ã€‚

## 5. Parameters / API Reference

æ­¤è™•ä¸»è¦åˆ—å‡º GitHub Webhook Payload çš„é—œéµæ¬„ä½ï¼Œä»¥åŠ LINE Notify å’Œ Discord Webhook çš„ API åƒæ•¸ã€‚

### 5.1 GitHub `push` Event Payload é—œéµæ¬„ä½ [4]

| æ¬„ä½è·¯å¾‘                | é¡å‹     | æè¿°                                                          |
| :---------------------- | :------- | :------------------------------------------------------------ |
| `repository.name`       | `string` | å€‰åº«åç¨±ã€‚                                                    |
| `pusher.name`           | `string` | æäº¤è€…çš„ä½¿ç”¨è€…åç¨±ã€‚                                          |
| `head_commit.message`   | `string` | æœ€æ–°æäº¤çš„è¨Šæ¯ã€‚                                              |
| `head_commit.url`       | `string` | æœ€æ–°æäº¤çš„ GitHub URLã€‚                                       |
| `head_commit.timestamp` | `string` | æœ€æ–°æäº¤çš„æ™‚é–“æˆ³ (ISO 8601 æ ¼å¼)ã€‚                            |
| `ref`                   | `string` | è§¸ç™¼äº‹ä»¶çš„å¼•ç”¨ (ä¾‹å¦‚ `refs/heads/main`ï¼Œéœ€è¦è§£æå‡ºåˆ†æ”¯åç¨±)ã€‚ |

### 5.2 LINE Notify API åƒæ•¸ [5]

| åƒæ•¸åç¨±           | é¡å‹     | æè¿°                                |
| :----------------- | :------- | :---------------------------------- |
| `message`          | `string` | è¦ç™¼é€çš„è¨Šæ¯å…§å®¹ã€‚æ”¯æ´æ›è¡Œç¬¦ `\n`ã€‚ |
| `imageThumbnail`   | `string` | åœ–ç‰‡ç¸®åœ–çš„ URL (å¯é¸)ã€‚             |
| `imageFullsize`    | `string` | åœ–ç‰‡å®Œæ•´å°ºå¯¸çš„ URL (å¯é¸)ã€‚         |
| `stickerPackageId` | `number` | è²¼åœ–åŒ… ID (å¯é¸)ã€‚                  |
| `stickerId`        | `number` | è²¼åœ– ID (å¯é¸)ã€‚                    |

### 5.3 Discord Webhook API åƒæ•¸ (éƒ¨åˆ†å¸¸ç”¨) [6]

| åƒæ•¸åç¨±               | é¡å‹            | æè¿°                                                              |
| :--------------------- | :-------------- | :---------------------------------------------------------------- |
| `content`              | `string`        | ä¸»è¦è¨Šæ¯å…§å®¹ (å¯é¸ï¼Œèˆ‡ `embeds` åŒæ™‚å­˜åœ¨æ™‚ç‚ºé¡å¤–æ–‡å­—)ã€‚           |
| `username`             | `string`        | ç™¼é€è¨Šæ¯æ™‚é¡¯ç¤ºçš„åç¨± (å¯é¸)ã€‚                                     |
| `avatar_url`           | `string`        | ç™¼é€è¨Šæ¯æ™‚é¡¯ç¤ºçš„é ­åƒ URL (å¯é¸)ã€‚                                 |
| `embeds`               | `Array<Object>` | åŒ…å«ä¸€å€‹æˆ–å¤šå€‹ Embed ç‰©ä»¶çš„é™£åˆ—ï¼Œç”¨æ–¼ç™¼é€çµæ§‹åŒ–ã€è¦–è¦ºè±å¯Œçš„è¨Šæ¯ã€‚ |
| `embeds[].title`       | `string`        | Embed çš„æ¨™é¡Œã€‚                                                    |
| `embeds[].description` | `string`        | Embed çš„æè¿°å…§å®¹ï¼Œæ”¯æ´ Markdownã€‚                                 |
| `embeds[].color`       | `number`        | Embed å·¦å´é‚Šæ¡†çš„é¡è‰² (åé€²åˆ¶æ•´æ•¸)ã€‚                               |
| `embeds[].url`         | `string`        | é»æ“Šæ¨™é¡Œæ™‚è·³è½‰çš„ URLã€‚                                            |
| `embeds[].footer.text` | `string`        | Embed åº•éƒ¨æ–‡å­—ã€‚                                                  |

## 6. Notes & Best Practices

1.  **å®‰å…¨æ€§å„ªå…ˆ**ï¼š
    - **Webhook Secret**ï¼šå‹™å¿…åœ¨ GitHub å’Œ n8n Webhook ç¯€é»ä¸­é…ç½®ä¸¦é©—è­‰ Secret Tokenã€‚é€™å¯ä»¥é˜²æ­¢æœªç¶“æˆæ¬Šçš„è«‹æ±‚è§¸ç™¼æ‚¨çš„å·¥ä½œæµã€‚
    - **API Keys/Tokens**ï¼šæ‰€æœ‰æ•æ„Ÿè³‡è¨Šï¼ˆå¦‚ LINE Notify Token, Discord Webhook URLï¼‰éƒ½æ‡‰å„²å­˜åœ¨ n8n çš„ç’°å¢ƒè®Šæ•¸ä¸­ï¼Œè€Œä¸æ˜¯ç›´æ¥ç¡¬ç·¨ç¢¼åœ¨å·¥ä½œæµä¸­ã€‚é€™ä¸åƒ…æé«˜äº†å®‰å…¨æ€§ï¼Œä¹Ÿæ–¹ä¾¿äº†ç’°å¢ƒåˆ‡æ›ã€‚
2.  **è¨Šæ¯å…§å®¹å„ªåŒ–**ï¼š
    - **ç°¡æ½”æ˜ç­**ï¼šé€šçŸ¥è¨Šæ¯æ‡‰åŒ…å«è¶³å¤ çš„è³‡è¨Šï¼Œä½†åˆä¸èƒ½éæ–¼å†—é•·ã€‚æå–æœ€é—œéµçš„è³‡è¨Šï¼ˆä½œè€…ã€æäº¤è¨Šæ¯ã€é€£çµï¼‰å³å¯ã€‚
    - **å¹³å°ç‰¹æ€§**ï¼šå……åˆ†åˆ©ç”¨å„å¹³å°çš„ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼ŒDiscord æ”¯æ´ Embed è¨Šæ¯ï¼Œå¯ä»¥è®“é€šçŸ¥æ›´å…·è¦–è¦ºå¸å¼•åŠ›ï¼›LINE æ”¯æ´è²¼åœ–ï¼Œå¯ä»¥åœ¨ç‰¹å®šæƒ…å¢ƒä¸‹å¢åŠ è¶£å‘³æ€§ã€‚
    - **åœ¨åœ°åŒ–æ™‚é–“**ï¼šå°‡æ™‚é–“æˆ³è½‰æ›ç‚ºåœ˜éšŠæˆå“¡æ‰€åœ¨æ™‚å€çš„åœ¨åœ°åŒ–æ ¼å¼ï¼Œæå‡å¯è®€æ€§ã€‚
3.  **é¿å…é€šçŸ¥å™ªéŸ³**ï¼š
    - **éæ¿¾æ©Ÿåˆ¶**ï¼šä½¿ç”¨ n8n çš„ `IF` ç¯€é»æˆ– `Filter` ç¯€é»ä¾†è¨­å®šæ¢ä»¶ï¼Œä¾‹å¦‚åªé€šçŸ¥ç‰¹å®šåˆ†æ”¯çš„æäº¤ã€åªé€šçŸ¥åˆä½µçš„ Pull Requestï¼Œæˆ–æ’é™¤æŸäº›è‡ªå‹•åŒ–å¸³æˆ¶çš„æäº¤ã€‚é€™å¯ä»¥é¿å…éå¤šçš„é€šçŸ¥æ·¹æ²’åœ˜éšŠæˆå“¡ã€‚
    - **åˆä½µæäº¤**ï¼šå°æ–¼é »ç¹çš„å°å‹æäº¤ï¼Œå¯ä»¥è€ƒæ…®åœ¨ GitHub ä¸Šä½¿ç”¨ Squash and Merge æˆ– Rebase and Merge ç­–ç•¥ï¼Œæ¸›å°‘å–®ç¨çš„æäº¤é€šçŸ¥ã€‚
4.  **éŒ¯èª¤è™•ç†èˆ‡ç›£æ§**ï¼š
    - **Error Trigger**ï¼šåœ¨ n8n å·¥ä½œæµä¸­é…ç½®éŒ¯èª¤è™•ç†æ©Ÿåˆ¶ã€‚ä¾‹å¦‚ï¼Œç•¶é€šçŸ¥ç™¼é€å¤±æ•—æ™‚ï¼Œå¯ä»¥è§¸ç™¼å¦ä¸€å€‹å·¥ä½œæµä¾†ç™¼é€éŒ¯èª¤å ±å‘Šçµ¦ç®¡ç†å“¡ï¼Œæˆ–å˜—è©¦é‡è©¦ã€‚
    - **æ—¥èªŒè¨˜éŒ„**ï¼šn8n æä¾›äº†å·¥ä½œæµåŸ·è¡Œçš„æ—¥èªŒã€‚å®šæœŸæª¢æŸ¥æ—¥èªŒï¼Œç¢ºä¿å·¥ä½œæµæ­£å¸¸é‹è¡Œï¼Œä¸¦åŠæ™‚ç™¼ç¾å’Œè§£æ±ºå•é¡Œã€‚
5.  **å¯æ“´å±•æ€§**ï¼š
    - **æ¨¡çµ„åŒ–è¨­è¨ˆ**ï¼šå°‡æ•¸æ“šè™•ç†å’Œç™¼é€é‚è¼¯æ¨¡çµ„åŒ–ï¼Œæ–¹ä¾¿æœªä¾†æ·»åŠ æ–°çš„é€šè¨Šå¹³å°ï¼ˆå¦‚ Slack, Telegramï¼‰æˆ–ä¿®æ”¹ç¾æœ‰å¹³å°çš„è¨Šæ¯æ ¼å¼ï¼Œè€Œç„¡éœ€å¤§å¹…ä¿®æ”¹æ•´å€‹å·¥ä½œæµã€‚
    - **é€šç”¨è¨Šæ¯çµæ§‹**ï¼šåœ¨æ•¸æ“šè™•ç†éšæ®µï¼Œç›¡é‡å°‡æå–çš„æ•¸æ“šè½‰æ›ç‚ºä¸€å€‹é€šç”¨çš„å…§éƒ¨è¨Šæ¯çµæ§‹ï¼Œé€™æ¨£åœ¨ç™¼é€éšæ®µå¯ä»¥æ›´å®¹æ˜“åœ°é©é…åˆ°ä¸åŒçš„å¹³å° APIã€‚

## 7. ç‚ºä»€éº¼é¸æ“‡é€™ç¨®æ–¹å¼ï¼Ÿ

é¸æ“‡ä½¿ç”¨ n8n ä¾†æ§‹å»º GitHub åˆ° LINE/Discord çš„è·¨å¹³å°é€šçŸ¥ç³»çµ±ï¼Œæ˜¯åŸºæ–¼å…¶åœ¨è‡ªå‹•åŒ–ã€éˆæ´»æ€§å’Œé–‹ç™¼è€…é«”é©—ä¸Šçš„ç¶œåˆå„ªå‹¢ï¼š

1.  **ä½ç¨‹å¼ç¢¼/ç„¡ç¨‹å¼ç¢¼è‡ªå‹•åŒ–**ï¼šn8n æä¾›äº†ä¸€å€‹ç›´è§€çš„è¦–è¦ºåŒ–ä»‹é¢ï¼Œè®“é–‹ç™¼è€…å’Œéé–‹ç™¼è€…éƒ½èƒ½è¼•é¬†è¨­è¨ˆå’Œéƒ¨ç½²è¤‡é›œçš„è‡ªå‹•åŒ–å·¥ä½œæµï¼Œç„¡éœ€ç·¨å¯«å¤§é‡ç¨‹å¼ç¢¼ã€‚é€™å¤§å¤§é™ä½äº†è‡ªå‹•åŒ–é–€æª»ï¼ŒåŠ é€Ÿäº†é–‹ç™¼æ•ˆç‡ [7]ã€‚
2.  **å¼·å¤§çš„æ•´åˆèƒ½åŠ›**ï¼šn8n å…§å»ºäº†æ•¸ç™¾å€‹æ‡‰ç”¨ç¨‹å¼å’Œæœå‹™çš„æ•´åˆç¯€é»ï¼ŒåŒ…æ‹¬ GitHubã€LINEã€Discord ç­‰ä¸»æµå¹³å°ã€‚é€™ä½¿å¾—ä¸²æ¥ä¸åŒç³»çµ±è®Šå¾—è¼•è€Œæ˜“èˆ‰ï¼Œç„¡éœ€æ‰‹å‹•è™•ç†ç¹ç‘£çš„ API èªè­‰å’Œè«‹æ±‚ç´°ç¯€ [8]ã€‚
3.  **é«˜åº¦å®¢è£½åŒ–èˆ‡éˆæ´»æ€§**ï¼šå„˜ç®¡æ˜¯ä½ç¨‹å¼ç¢¼å¹³å°ï¼Œn8n ä»æä¾›äº† `Code` ç¯€é»ï¼Œå…è¨±é–‹ç™¼è€…ä½¿ç”¨ JavaScript ç·¨å¯«è‡ªå®šç¾©é‚è¼¯ï¼Œé€²è¡Œè¤‡é›œçš„æ•¸æ“šè½‰æ›ã€æ¢ä»¶åˆ¤æ–·å’ŒéŒ¯èª¤è™•ç†ã€‚é€™ç¢ºä¿äº†å·¥ä½œæµèƒ½å¤ ç²¾ç¢ºæ»¿è¶³åœ˜éšŠçš„ç‰¹å®šéœ€æ±‚ [9]ã€‚
4.  **äº‹ä»¶é©…å‹•èˆ‡å³æ™‚éŸ¿æ‡‰**ï¼šé€é Webhook è§¸ç™¼æ©Ÿåˆ¶ï¼Œn8n èƒ½å¤ åœ¨ GitHub äº‹ä»¶ç™¼ç”Ÿæ™‚å³æ™‚éŸ¿æ‡‰ï¼Œç¢ºä¿é€šçŸ¥çš„å³æ™‚æ€§ã€‚é€™å°æ–¼éœ€è¦å¿«é€Ÿåæ‡‰çš„é–‹ç™¼åœ˜éšŠä¾†èªªè‡³é—œé‡è¦ã€‚
5.  **å¯æ“´å±•æ€§èˆ‡ç¶­è­·æ€§**ï¼šn8n çš„æ¨¡çµ„åŒ–è¨­è¨ˆä½¿å¾—å·¥ä½œæµæ˜“æ–¼æ“´å±•ï¼Œå¯ä»¥è¼•é¬†æ·»åŠ æ–°çš„é€šçŸ¥å¹³å°æˆ–èª¿æ•´ç¾æœ‰é‚è¼¯ã€‚åŒæ™‚ï¼Œè¦–è¦ºåŒ–çš„å·¥ä½œæµä»‹é¢ä¹Ÿæ–¹ä¾¿äº†åœ˜éšŠæˆå“¡ç†è§£å’Œç¶­è­·è‡ªå‹•åŒ–æµç¨‹ã€‚

---

**åƒè€ƒè³‡æ–™**

- [1] n8n.io. (n.d.). _Webhook and Discord: Automate Workflows with n8n_. Retrieved from https://n8n.io/integrations/webhook/and/discord/
- [2] n8n.io. (n.d.). _GitHub and Line: Automate Workflows with n8n_. Retrieved from https://n8n.io/integrations/github/and/line/
- [3] n8n.io. (n.d.). _Discord integrations | Workflow automation with n8n_. Retrieved from https://n8n.io/integrations/discord/
- [4] GitHub Docs. (n.d.). _Webhook events and payloads_. Retrieved from https://docs.github.com/en/webhooks-and-events/webhooks/webhook-events-and-payloads
- [5] LINE Notify. (n.d.). _API Document_. Retrieved from https://notify-bot.line.me/doc/en/
- [6] Discord Developer Portal. (n.d.). _Webhooks_. Retrieved from https://discord.com/developers/docs/resources/webhook
- [7] n8n.io. (n.d.). _What is n8n?_. Retrieved from https://n8n.io/what-is-n8n/
- [8] n8n.io. (n.d.). _Integrations_. Retrieved from https://n8n.io/integrations/
- [9] n8n.io. (n.d.). _Master n8n JSON & Data Transformation in 30 Minutes_. Retrieved from https://www.youtube.com/watch?v=tNHVxZ2qvII
