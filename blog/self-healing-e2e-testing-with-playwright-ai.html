<!DOCTYPE html><html lang="zh-Hant"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://qwer820921.github.io/_next/static/css/be607b33620c6e00.css" data-precedence="next"/><link rel="stylesheet" href="https://qwer820921.github.io/_next/static/css/739e5c607d9731d5.css" data-precedence="next"/><link rel="stylesheet" href="https://qwer820921.github.io/_next/static/css/4bb1c53d4d41ca49.css" data-precedence="next"/><link rel="stylesheet" href="https://qwer820921.github.io/_next/static/css/0105f7c97f16220d.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="https://qwer820921.github.io/_next/static/chunks/webpack-97372da6a069f2e6.js"/><script src="https://qwer820921.github.io/_next/static/chunks/4bd1b696-e100a0b1879d5e6b.js" async=""></script><script src="https://qwer820921.github.io/_next/static/chunks/1684-9b53760636e10952.js" async=""></script><script src="https://qwer820921.github.io/_next/static/chunks/main-app-c0d2570cf703bee2.js" async=""></script><script src="https://qwer820921.github.io/_next/static/chunks/8482-5637f60b9e0ae224.js" async=""></script><script src="https://qwer820921.github.io/_next/static/chunks/app/layout-898a3761c5f29253.js" async=""></script><script src="https://qwer820921.github.io/_next/static/chunks/6874-cfa829be98f8140c.js" async=""></script><script src="https://qwer820921.github.io/_next/static/chunks/app/blog/%5Bslug%5D/page-c93c0e23c9658930.js" async=""></script><link rel="preload" href="https://qwer820921.github.io/_next/static/chunks/2990.dad4388d14b132db.js" as="script" fetchPriority="low"/><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-CCKVESHCQ1" as="script"/><link rel="preload" href="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2709303513603814" as="script" crossorigin=""/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="/logo192.png"/><link rel="manifest" href="/manifest.json"/><link rel="preload" href="/logo192.png" as="image"/><title>【自動化測試】使用 Playwright + AI Agent 實現「自癒 (Self-Healing)」的 E2E 測試 | 子yee 萬事屋 | 子yee</title><meta name="description" content="深入探討如何結合 Playwright 與 AI Agent，實現 E2E 測試腳本的自動修復，大幅降低因 UI 變動導致的測試維護成本。"/><meta name="keywords" content="子yee 萬事屋, 台股查詢, 自選股, 技術小工具, 股票資訊平台, 技術顧問, 自動化工具"/><meta name="google-site-verification" content="adHIcDQiasHY4YzPlrpmSSPKl7Oj1WxrPJ_4GV4PQcM"/><meta property="og:title" content="【自動化測試】使用 Playwright + AI Agent 實現「自癒 (Self-Healing)」的 E2E 測試"/><meta property="og:description" content="深入探討如何結合 Playwright 與 AI Agent，實現 E2E 測試腳本的自動修復，大幅降低因 UI 變動導致的測試維護成本。"/><meta property="og:image" content="https://qwer820921.github.io/images/img15.jpg"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="【自動化測試】使用 Playwright + AI Agent 實現「自癒 (Self-Healing)」的 E2E 測試"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="【自動化測試】使用 Playwright + AI Agent 實現「自癒 (Self-Healing)」的 E2E 測試"/><meta name="twitter:description" content="深入探討如何結合 Playwright 與 AI Agent，實現 E2E 測試腳本的自動修復，大幅降低因 UI 變動導致的測試維護成本。"/><meta name="twitter:image" content="https://qwer820921.github.io/images/img15.jpg"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="https://qwer820921.github.io/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><main class="container-fluid mt-5 p-0"><article class="container py-5"><div class="row justify-content-center"><div class="col-12 col-lg-8"><div class="mb-4"><a class="btn btn-outline-secondary d-inline-flex align-items-center gap-2" href="/blog"><span>←</span>回到文章列表</a></div><div class="card shadow-sm border-0"><div class="card-body p-4 p-md-5"><header class="mb-5 pb-4 border-bottom"><h1 class="fw-bold mb-3 display-5">【自動化測試】使用 Playwright + AI Agent 實現「自癒 (Self-Healing)」的 E2E 測試</h1><div class="text-muted d-flex align-items-center gap-2"><i class="bi bi-calendar3"></i>2026-02-12</div></header><div class="blogContent_blogContent__VY_R4"><h1>【自動化測試】使用 Playwright + AI Agent 實現「自癒 (Self-Healing)」的 E2E 測試</h1>
<p><strong>作者：</strong> Manus AI
<strong>日期：</strong> 2026年2月11日</p>
<hr/>
<h2>1. Overview</h2>
<p>端到端（End-to-End, E2E）測試是確保軟體品質的關鍵環節，它模擬使用者行為，驗證整個應用程式流程的正確性。然而，傳統的 E2E 測試，特別是基於 UI 元素選擇器（Selector）的測試，面臨著一個普遍的挑戰：<strong>脆弱性（Fragility）</strong>。當前端 UI 進行改版、元素 ID 或 Class 名稱發生變化時，測試腳本中的 Selector 就會失效，導致測試失敗，即便底層功能並未受損。這種情況不僅耗費大量的時間進行手動修復，也嚴重影響了開發團隊對自動化測試的信心和效率 [1]。</p>
<p>為了解決這一痛點，<strong>AI-Driven Testing</strong> 的概念應運而生，其中「自癒（Self-Healing）」測試是其核心能力之一。本文件將深入探討如何結合現代化的 E2E 測試框架 Playwright 與強大的 AI Agent（特別是大型語言模型 LLM），實現 E2E 測試腳本的自動修復。我們將學習如何構建一個智能系統，當測試因 Selector 變動而失敗時，AI Agent 能夠自動分析 DOM 結構變化，識別正確的目標元素，並「自我修復」測試腳本，從而大幅降低測試維護成本，提升測試的穩定性和可靠性。</p>
<h2>2. Architecture / Design</h2>
<p>實現 Playwright E2E 測試的「自癒」能力，其核心在於建立一個智能的 AI Agent，能夠在測試失敗時介入，分析問題並提供解決方案。這是一個結合了測試執行、錯誤偵測、AI 分析與修復的閉環工作流。</p>
<h3>2.1 AI 自癒測試工作流 (Workflow Architecture)</h3>
<p>整個 AI 自癒測試的工作流可以分為以下幾個主要階段：</p>
<h4>2.1.1 執行與偵測階段 (Execution &amp; Detection)</h4>
<p>此階段負責執行標準的 E2E 測試，並在測試失敗時捕獲相關的錯誤資訊。</p>
<ul>
<li><strong>Playwright Test Runner</strong>：使用 Playwright 執行預先編寫的 E2E 測試腳本。Playwright 提供了強大的瀏覽器自動化能力，支援多種瀏覽器和並行測試 [2]。</li>
<li><strong>Failure Listener / Error Interceptor</strong>：在 Playwright 測試框架中，我們可以設置一個監聽器或錯誤攔截器，專門捕獲因 Selector 失效而導致的測試失敗。常見的錯誤類型包括 <code>TimeoutError</code>（元素在指定時間內未出現）或 <code>SelectorNotFound</code>（無法找到匹配的元素）。當這些錯誤發生時，觸發 AI 修復流程。</li>
</ul>
<h4>2.1.2 AI 分析與修復階段 (AI Analysis &amp; Repair)</h4>
<p>這是自癒測試的核心，AI Agent 在此階段介入，分析失敗原因並嘗試修復。</p>
<ul>
<li><strong>上下文提取 (Context Extraction)</strong>：當測試失敗時，需要向 AI Agent 提供足夠的上下文資訊，以便其進行分析：<!-- -->
<ul>
<li><strong>DOM Snapshot</strong>：獲取測試失敗時的頁面完整 DOM 結構（HTML）。為了減少傳輸和 LLM Token 消耗，可以考慮只獲取相關區域的 DOM，或轉換為更精簡的 <strong>Accessibility Tree</strong> 結構 [3]。</li>
<li><strong>原始 Selector 與預期操作</strong>：提供導致失敗的原始 Selector（例如 <code>page.locator(&#x27;#login-button&#x27;)</code>）以及預期的操作（例如 <code>click()</code>、`fill(&#x27;input[name=</li>
</ul>
</li>
</ul></div></div></div></div></div></article><!--$--><!--/$--><!--$--><!--/$--></main><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><noscript>You need to enable JavaScript to run this app.</noscript><div class="position-fixed" style="z-index:1050;bottom:20px;right:20px;transform:translate(0px, 0px);touch-action:none;cursor:default;display:flex;flex-direction:column;align-items:flex-end;transition:transform 0.3s ease"><div class="position-relative"><button class="btn btn-primary rounded-circle d-flex align-items-center justify-content-center shadow" style="width:56px;height:56px;cursor:grab" aria-label="切換聊天視窗"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="width:24px;height:24px;pointer-events:none"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg></button><span class="position-absolute bg-danger rounded-circle" style="width:12px;height:12px;top:0;right:0;border:2px solid white"></span></div></div><script src="https://qwer820921.github.io/_next/static/chunks/webpack-97372da6a069f2e6.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[69243,[\"8482\",\"static/chunks/8482-5637f60b9e0ae224.js\",\"7177\",\"static/chunks/app/layout-898a3761c5f29253.js\"],\"\"]\n3:I[6476,[\"8482\",\"static/chunks/8482-5637f60b9e0ae224.js\",\"7177\",\"static/chunks/app/layout-898a3761c5f29253.js\"],\"default\"]\n4:I[87555,[],\"\"]\n5:I[31295,[],\"\"]\n6:I[39543,[\"8482\",\"static/chunks/8482-5637f60b9e0ae224.js\",\"7177\",\"static/chunks/app/layout-898a3761c5f29253.js\"],\"default\"]\n8:I[59665,[],\"MetadataBoundary\"]\na:I[59665,[],\"OutletBoundary\"]\nd:I[74911,[],\"AsyncMetadataOutlet\"]\nf:I[59665,[],\"ViewportBoundary\"]\n11:I[26614,[],\"\"]\n:HL[\"https://qwer820921.github.io/_next/static/css/be607b33620c6e00.css\",\"style\"]\n:HL[\"https://qwer820921.github.io/_next/static/css/739e5c607d9731d5.css\",\"style\"]\n:HL[\"https://qwer820921.github.io/_next/static/css/4bb1c53d4d41ca49.css\",\"style\"]\n:HL[\"https://qwer820921.github.io/_next/static/css/0105f7c97f16220d.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"LzA9qndiC87434dpeGU-O\",\"p\":\"https://qwer820921.github.io\",\"c\":[\"\",\"blog\",\"self-healing-e2e-testing-with-playwright-ai\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"self-healing-e2e-testing-with-playwright-ai\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://qwer820921.github.io/_next/static/css/be607b33620c6e00.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"https://qwer820921.github.io/_next/static/css/739e5c607d9731d5.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"https://qwer820921.github.io/_next/static/css/4bb1c53d4d41ca49.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"zh-Hant\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"href\":\"/logo192.png\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/manifest.json\"}],[\"$\",\"link\",null,{\"rel\":\"preload\",\"href\":\"/logo192.png\",\"as\":\"image\"}],[\"$\",\"$L2\",null,{\"async\":true,\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-CCKVESHCQ1\"}],[\"$\",\"$L2\",null,{\"id\":\"google-analytics\",\"children\":\"\\n            window.dataLayer = window.dataLayer || [];\\n            function gtag(){dataLayer.push(arguments);}\\n            gtag('js', new Date());\\n            gtag('config', 'G-CCKVESHCQ1');\\n          \"}],[\"$\",\"$L2\",null,{\"async\":true,\"src\":\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2709303513603814\",\"crossOrigin\":\"anonymous\"}]]}],[\"$\",\"body\",null,{\"children\":[[\"$\",\"$L3\",null,{\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"$L6\",null,{}]]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"self-healing-e2e-testing-with-playwright-ai\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"children\":\"$L9\"}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://qwer820921.github.io/_next/static/css/0105f7c97f16220d.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",[\"$\",\"$Ld\",null,{\"promise\":\"$@e\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"B2uAXIrOE8UNBPLo_I3Ch\",{\"children\":[[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}],null]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"12:\"$Sreact.suspense\"\n13:I[74911,[],\"AsyncMetadata\"]\n9:[\"$\",\"$12\",null,{\"fallback\":null,\"children\":[\"$\",\"$L13\",null,{\"promise\":\"$@14\"}]}]\n"])</script><script>self.__next_f.push([1,"15:I[57113,[\"6874\",\"static/chunks/6874-cfa829be98f8140c.js\",\"5953\",\"static/chunks/app/blog/%5Bslug%5D/page-c93c0e23c9658930.js\"],\"default\"]\nc:null\n7:[\"$\",\"article\",null,{\"className\":\"container py-5\",\"children\":[\"$\",\"div\",null,{\"className\":\"row justify-content-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"col-12 col-lg-8\",\"children\":[[\"$\",\"$L15\",null,{}],[\"$\",\"div\",null,{\"className\":\"card shadow-sm border-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"card-body p-4 p-md-5\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-5 pb-4 border-bottom\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"fw-bold mb-3 display-5\",\"children\":\"【自動化測試】使用 Playwright + AI Agent 實現「自癒 (Self-Healing)」的 E2E 測試\"}],[\"$\",\"div\",null,{\"className\":\"text-muted d-flex align-items-center gap-2\",\"children\":[[\"$\",\"i\",null,{\"className\":\"bi bi-calendar3\"}],\"2026-02-12\"]}]]}],[\"$\",\"div\",null,{\"className\":\"blogContent_blogContent__VY_R4\",\"children\":\"$L16\"}]]}]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"16:[[\"$\",\"h1\",null,{\"children\":\"【自動化測試】使用 Playwright + AI Agent 實現「自癒 (Self-Healing)」的 E2E 測試\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"作者：\"}],\" Manus AI\\n\",[\"$\",\"strong\",null,{\"children\":\"日期：\"}],\" 2026年2月11日\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"1. Overview\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"端到端（End-to-End, E2E）測試是確保軟體品質的關鍵環節，它模擬使用者行為，驗證整個應用程式流程的正確性。然而，傳統的 E2E 測試，特別是基於 UI 元素選擇器（Selector）的測試，面臨著一個普遍的挑戰：\",[\"$\",\"strong\",null,{\"children\":\"脆弱性（Fragility）\"}],\"。當前端 UI 進行改版、元素 ID 或 Class 名稱發生變化時，測試腳本中的 Selector 就會失效，導致測試失敗，即便底層功能並未受損。這種情況不僅耗費大量的時間進行手動修復，也嚴重影響了開發團隊對自動化測試的信心和效率 [1]。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"為了解決這一痛點，\",[\"$\",\"strong\",null,{\"children\":\"AI-Driven Testing\"}],\" 的概念應運而生，其中「自癒（Self-Healing）」測試是其核心能力之一。本文件將深入探討如何結合現代化的 E2E 測試框架 Playwright 與強大的 AI Agent（特別是大型語言模型 LLM），實現 E2E 測試腳本的自動修復。我們將學習如何構建一個智能系統，當測試因 Selector 變動而失敗時，AI Agent 能夠自動分析 DOM 結構變化，識別正確的目標元素，並「自我修復」測試腳本，從而大幅降低測試維護成本，提升測試的穩定性和可靠性。\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"2. Architecture / Design\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"實現 Playwright E2E 測試的「自癒」能力，其核心在於建立一個智能的 AI Agent，能夠在測試失敗時介入，分析問題並提供解決方案。這是一個結合了測試執行、錯誤偵測、AI 分析與修復的閉環工作流。\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"2.1 AI 自癒測試工作流 (Workflow Architecture)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"整個 AI 自癒測試的工作流可以分為以下幾個主要階段：\"}],\"\\n\",[\"$\",\"h4\",null,{\"children\":\"2.1.1 執行與偵測階段 (Execution \u0026 Detection)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"此階段負責執行標準的 E2E 測試，並在測試失敗時捕獲相關的錯誤資訊。\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Playwright Test Runner\"}],\"：使用 Playwright 執行預先編寫的 E2E 測試腳本。Playwright 提供了強大的瀏覽器自動化能力，支援多種瀏覽器和並行測試 [2]。\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Failure Listener / Error Interceptor\"}],\"：在 Playwright 測試框架中，我們可以設置一個監聽器或錯誤攔截器，專門捕獲因 Selector 失效而導致的測試失敗。常見的錯誤類型包括 \",[\"$\",\"code\",null,{\"children\":\"TimeoutError\"}],\"（元素在指定時間內未出現）或 \",[\"$\",\"code\",null,{\"children\":\"SelectorNotFound\"}],\"（無法找到匹配的元素）。當這些錯誤發生時，觸發 AI 修復流程。\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",null,{\"children\":\"2.1.2 AI 分析與修復階段 (AI Analysis \u0026 Repair)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"這是自癒測試的核心，AI Agent 在此階段介入，分析失敗原因並嘗試修復。\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"上下文提取 (Context Extraction)\"}],\"：當測試失敗時，需要向 AI Agent 提供足夠的上下文資訊，以便其進行分析：\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"DOM Snapshot\"}],\"：獲取測試失敗時的頁面完整 DOM 結構（HTML）。為了減少傳輸和 LLM Token 消耗，可以考慮只獲取相關區域的 DOM，或轉換為更精簡的 \",[\"$\",\"strong\",null,{\"children\":\"Accessibility Tree\"}],\" 結構 [3]。\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"原始 Selector 與預期操作\"}],\"：提供導致失敗的原始 Selector（例如 \",[\"$\",\"code\",null,{\"children\":\"page.locator('#login-button')\"}],\"）以及預期的操作（例如 \",[\"$\",\"code\",null,{\"children\":\"click()\"}],\"、`fill('input[name=\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}]]\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"14:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"【自動化測試】使用 Playwright + AI Agent 實現「自癒 (Self-Healing)」的 E2E 測試 | 子yee 萬事屋 | 子yee\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"深入探討如何結合 Playwright 與 AI Agent，實現 E2E 測試腳本的自動修復，大幅降低因 UI 變動導致的測試維護成本。\"}],[\"$\",\"meta\",\"2\",{\"name\":\"keywords\",\"content\":\"子yee 萬事屋, 台股查詢, 自選股, 技術小工具, 股票資訊平台, 技術顧問, 自動化工具\"}],[\"$\",\"meta\",\"3\",{\"name\":\"google-site-verification\",\"content\":\"adHIcDQiasHY4YzPlrpmSSPKl7Oj1WxrPJ_4GV4PQcM\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"【自動化測試】使用 Playwright + AI Agent 實現「自癒 (Self-Healing)」的 E2E 測試\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"深入探討如何結合 Playwright 與 AI Agent，實現 E2E 測試腳本的自動修復，大幅降低因 UI 變動導致的測試維護成本。\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:image\",\"content\":\"https://qwer820921.github.io/images/img15.jpg\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:image:alt\",\"content\":\"【自動化測試】使用 Playwright + AI Agent 實現「自癒 (Self-Healing)」的 E2E 測試\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:title\",\"content\":\"【自動化測試】使用 Playwright + AI Agent 實現「自癒 (Self-Healing)」的 E2E 測試\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:description\",\"content\":\"深入探討如何結合 Playwright 與 AI Agent，實現 E2E 測試腳本的自動修復，大幅降低因 UI 變動導致的測試維護成本。\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:image\",\"content\":\"https://qwer820921.github.io/images/img15.jpg\"}],[\"$\",\"link\",\"15\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"e:{\"metadata\":\"$14:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>