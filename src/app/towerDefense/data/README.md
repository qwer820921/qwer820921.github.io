# å¡”é˜²éŠæˆ²é—œå¡é…ç½®èªªæ˜

## ğŸ“ æ–‡ä»¶çµæ§‹

- `levels.json` - ä¸»è¦é—œå¡é…ç½®æ–‡ä»¶
- `level-template.json` - æ–°å¢é—œå¡çš„æ¨¡æ¿
- `LevelManager.ts` - é—œå¡ç®¡ç†å™¨

## ğŸ® é—œå¡é…ç½®èªªæ˜

### é—œå¡åŸºæœ¬å±¬æ€§

```json
{
  "id": 1,                    // é—œå¡ IDï¼ˆå¿…é ˆå”¯ä¸€ï¼‰
  "name": "æ–°æ‰‹æ‘",            // é—œå¡åç¨±
  "description": "æ­¡è¿ä¾†åˆ°...", // é—œå¡æè¿°
  "difficulty": "easy",       // é›£åº¦ï¼šeasy, medium, hard, extreme
  "initialGold": 500,         // åˆå§‹é‡‘å¹£
  "initialLives": 20,         // åˆå§‹ç”Ÿå‘½å€¼
  "waves": [...],             // æ³¢æ¬¡é…ç½®ï¼ˆè¦‹ä¸‹æ–¹ï¼‰
  "rewards": {                // é€šé—œçå‹µ
    "gold": 200,              // çå‹µé‡‘å¹£
    "stars": 3                // æ˜Ÿç´šè©•åƒ¹
  }
}
```

### æ³¢æ¬¡é…ç½® (waves)

æ¯å€‹é—œå¡å¯ä»¥æœ‰å¤šå€‹æ³¢æ¬¡ï¼Œæ¯å€‹æ³¢æ¬¡å¯ä»¥åŒ…å«å¤šç¨®æ•µäººï¼š

```json
{
  "waveNumber": 1, // æ³¢æ¬¡ç·¨è™Ÿ
  "enemies": [
    // æ•µäººé…ç½®åˆ—è¡¨
    {
      "type": "slime", // æ•µäººé¡å‹
      "count": 10, // æ•¸é‡
      "interval": 1000, // ç”Ÿæˆé–“éš”ï¼ˆæ¯«ç§’ï¼‰
      "delay": 0 // å»¶é²ç”Ÿæˆï¼ˆæ¯«ç§’ï¼Œå¯é¸ï¼‰
    }
  ],
  "delay": 5000 // æ³¢æ¬¡é–“éš”ï¼ˆæ¯«ç§’ï¼‰
}
```

### æ•µäººé¡å‹ (type)

ç›®å‰æ”¯æ´çš„æ•µäººé¡å‹ï¼š

| é¡å‹     | åç¨±   | è¡€é‡ | é€Ÿåº¦ | çå‹µ | å‚·å®³ |
| -------- | ------ | ---- | ---- | ---- | ---- |
| `slime`  | å²èŠå§† | 100  | 50   | 10   | 1    |
| `goblin` | å“¥å¸ƒæ— | 200  | 70   | 20   | 2    |
| `orc`    | ç¸äºº   | 400  | 40   | 40   | 3    |
| `dragon` | é£›é¾   | 1000 | 60   | 100  | 5    |

### é›£åº¦ç­‰ç´š (difficulty)

- `easy` - ç°¡å–®ï¼šé©åˆæ–°æ‰‹
- `medium` - ä¸­ç­‰ï¼šéœ€è¦ä¸€å®šç­–ç•¥
- `hard` - å›°é›£ï¼šéœ€è¦ç²¾å¿ƒä½ˆå±€
- `extreme` - æ¥µé›£ï¼šçµ‚æ¥µæŒ‘æˆ°

## ğŸ“ æ–°å¢é—œå¡æ­¥é©Ÿ

### æ–¹æ³• 1ï¼šä½¿ç”¨æ¨¡æ¿

1. è¤‡è£½ `level-template.json` çš„å…§å®¹
2. ä¿®æ”¹é—œå¡å±¬æ€§ï¼š
   - æ›´æ–° `id`ï¼ˆç¢ºä¿å”¯ä¸€ï¼‰
   - è¨­å®š `name` å’Œ `description`
   - èª¿æ•´ `difficulty`ã€`initialGold`ã€`initialLives`
3. é…ç½®æ³¢æ¬¡ï¼š
   - è¨­å®šæ¯æ³¢çš„æ•µäººé¡å‹ã€æ•¸é‡ã€é–“éš”
   - èª¿æ•´æ³¢æ¬¡é–“éš”æ™‚é–“
4. è¨­å®šé€šé—œçå‹µ
5. å°‡æ–°é—œå¡æ·»åŠ åˆ° `levels.json` çš„ `levels` é™£åˆ—ä¸­

### æ–¹æ³• 2ï¼šç›´æ¥ç·¨è¼¯ levels.json

åœ¨ `levels.json` çš„ `levels` é™£åˆ—æœ«å°¾æ·»åŠ æ–°é—œå¡ï¼š

```json
{
  "levels": [
    // ... ç¾æœ‰é—œå¡ ...
    {
      "id": 6,
      "name": "æ–°é—œå¡",
      "description": "é€™æ˜¯ä¸€å€‹æ–°é—œå¡",
      "difficulty": "medium",
      "initialGold": 600,
      "initialLives": 15,
      "waves": [
        {
          "waveNumber": 1,
          "enemies": [{ "type": "goblin", "count": 15, "interval": 1000 }],
          "delay": 8000
        }
      ],
      "rewards": {
        "gold": 300,
        "stars": 3
      }
    }
  ]
}
```

## ğŸ’¡ è¨­è¨ˆå»ºè­°

### é›£åº¦å¹³è¡¡

1. **ç°¡å–®é—œå¡**

   - åˆå§‹é‡‘å¹£ï¼š500-700
   - åˆå§‹ç”Ÿå‘½ï¼š20-25
   - ä¸»è¦æ•µäººï¼šå²èŠå§†ã€å“¥å¸ƒæ—
   - æ³¢æ¬¡ï¼š2-3 æ³¢

2. **ä¸­ç­‰é—œå¡**

   - åˆå§‹é‡‘å¹£ï¼š600-900
   - åˆå§‹ç”Ÿå‘½ï¼š15-20
   - ä¸»è¦æ•µäººï¼šå“¥å¸ƒæ—ã€ç¸äººã€å°‘é‡é£›é¾
   - æ³¢æ¬¡ï¼š3-4 æ³¢

3. **å›°é›£é—œå¡**

   - åˆå§‹é‡‘å¹£ï¼š800-1200
   - åˆå§‹ç”Ÿå‘½ï¼š10-15
   - ä¸»è¦æ•µäººï¼šç¸äººã€é£›é¾
   - æ³¢æ¬¡ï¼š4-5 æ³¢

4. **æ¥µé›£é—œå¡**
   - åˆå§‹é‡‘å¹£ï¼š1000+
   - åˆå§‹ç”Ÿå‘½ï¼š5-10
   - ä¸»è¦æ•µäººï¼šå¤§é‡é£›é¾
   - æ³¢æ¬¡ï¼š5+ æ³¢

### æ³¢æ¬¡è¨­è¨ˆæŠ€å·§

1. **æ¼¸é€²å¼é›£åº¦**

   ```json
   // ç¬¬ä¸€æ³¢ï¼šç°¡å–®
   { "type": "slime", "count": 10, "interval": 1000 }

   // ç¬¬äºŒæ³¢ï¼šæ··åˆ
   { "type": "slime", "count": 15, "interval": 800 }
   { "type": "goblin", "count": 5, "interval": 1500, "delay": 5000 }

   // ç¬¬ä¸‰æ³¢ï¼šå›°é›£
   { "type": "goblin", "count": 20, "interval": 700 }
   { "type": "orc", "count": 8, "interval": 1500, "delay": 5000 }
   { "type": "dragon", "count": 3, "interval": 3000, "delay": 12000 }
   ```

2. **ä½¿ç”¨å»¶é²è£½é€ å£“åŠ›**

   - ä½¿ç”¨ `delay` è®“ä¸åŒæ•µäººéŒ¯é–‹å‡ºç¾
   - åœ¨ç©å®¶æ”¾é¬†æ™‚çªç„¶å‡ºç¾å¼·æ•µ

3. **é–“éš”æ™‚é–“æ§åˆ¶**

   - å²èŠå§†ï¼š500-1000ms
   - å“¥å¸ƒæ—ï¼š800-1500ms
   - ç¸äººï¼š1200-2000ms
   - é£›é¾ï¼š2000-5000ms

4. **æ³¢æ¬¡é–“éš”**
   - ç°¡å–®æ³¢æ¬¡ï¼š5000-8000ms
   - ä¸­ç­‰æ³¢æ¬¡ï¼š8000-12000ms
   - å›°é›£æ³¢æ¬¡ï¼š12000-20000ms

## ğŸ”§ ä½¿ç”¨é—œå¡ç®¡ç†å™¨

åœ¨éŠæˆ²ä»£ç¢¼ä¸­ä½¿ç”¨ï¼š

```typescript
import { levelManager } from "./core/LevelManager";

// ç²å–ç•¶å‰é—œå¡
const currentLevel = levelManager.getCurrentLevel();

// ç²å–é—œå¡æ³¢æ¬¡
const waves = levelManager.getLevelWaves(1);

// ç²å–åˆå§‹è³‡æº
const gold = levelManager.getLevelInitialGold(1);
const lives = levelManager.getLevelInitialLives(1);

// å‰å¾€ä¸‹ä¸€é—œ
levelManager.goToNextLevel();

// æª¢æŸ¥æ˜¯å¦ç‚ºæœ€å¾Œä¸€é—œ
if (levelManager.isLastLevel()) {
  console.log("æ­å–œé€šé—œï¼");
}
```

## ğŸ“Š ç¯„ä¾‹é—œå¡

### ç¯„ä¾‹ 1ï¼šæ–°æ‰‹æ•™å­¸é—œ

```json
{
  "id": 1,
  "name": "æ–°æ‰‹æ‘",
  "description": "å­¸ç¿’åŸºç¤é˜²ç¦¦",
  "difficulty": "easy",
  "initialGold": 500,
  "initialLives": 20,
  "waves": [
    {
      "waveNumber": 1,
      "enemies": [{ "type": "slime", "count": 10, "interval": 1000 }],
      "delay": 5000
    }
  ],
  "rewards": { "gold": 200, "stars": 3 }
}
```

### ç¯„ä¾‹ 2ï¼šBoss é—œå¡

```json
{
  "id": 5,
  "name": "é¾ç‹é™è‡¨",
  "description": "çµ‚æ¥µ Boss æˆ°ï¼",
  "difficulty": "extreme",
  "initialGold": 1500,
  "initialLives": 10,
  "waves": [
    {
      "waveNumber": 1,
      "enemies": [
        { "type": "slime", "count": 30, "interval": 500 },
        { "type": "goblin", "count": 20, "interval": 800, "delay": 5000 },
        { "type": "orc", "count": 15, "interval": 1200, "delay": 12000 },
        { "type": "dragon", "count": 10, "interval": 2000, "delay": 20000 }
      ],
      "delay": 25000
    }
  ],
  "rewards": { "gold": 2000, "stars": 3 }
}
```

## âš ï¸ æ³¨æ„äº‹é …

1. **ID å¿…é ˆå”¯ä¸€**ï¼šæ¯å€‹é—œå¡çš„ `id` ä¸èƒ½é‡è¤‡
2. **JSON æ ¼å¼**ï¼šç¢ºä¿ JSON æ ¼å¼æ­£ç¢ºï¼Œæ³¨æ„é€—è™Ÿå’Œæ‹¬è™Ÿ
3. **æ•µäººé¡å‹**ï¼šåªèƒ½ä½¿ç”¨å·²å®šç¾©çš„æ•µäººé¡å‹
4. **æ•¸å€¼å¹³è¡¡**ï¼šæ¸¬è©¦é—œå¡ç¢ºä¿å¯ä»¥é€šé—œä½†æœ‰æŒ‘æˆ°æ€§
5. **æ³¢æ¬¡ç·¨è™Ÿ**ï¼š`waveNumber` æ‡‰è©²å¾ 1 é–‹å§‹é€£çºŒç·¨è™Ÿ

## ğŸ¯ å¿«é€Ÿæª¢æŸ¥æ¸…å–®

æ–°å¢é—œå¡å‰æª¢æŸ¥ï¼š

- [ ] ID æ˜¯å¦å”¯ä¸€
- [ ] é—œå¡åç¨±å’Œæè¿°æ˜¯å¦å¡«å¯«
- [ ] é›£åº¦è¨­å®šæ˜¯å¦åˆç†
- [ ] åˆå§‹è³‡æºæ˜¯å¦å¹³è¡¡
- [ ] æ³¢æ¬¡é…ç½®æ˜¯å¦å®Œæ•´
- [ ] æ•µäººé¡å‹æ˜¯å¦æ­£ç¢º
- [ ] JSON æ ¼å¼æ˜¯å¦æ­£ç¢º
- [ ] çå‹µè¨­å®šæ˜¯å¦åˆç†
