(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3837],{30544:(e,s,a)=>{"use strict";a.d(s,{default:()=>o});var t=a(95155),n=a(12115),l=a(26682),c=a(55663),r=a(35322),i=a(32495),d=a(30908),h=a.n(d);function o(){let{novels:e,novelsLoading:s,novelsError:a,fetchLibrary:d}=(0,l.z)();(0,n.useEffect)(()=>{d()},[d]);let o=(0,n.useMemo)(()=>{let s=(0,c.c7)("COLLECTION",[]);return 0===s.length||0===e.length?[]:e.filter(e=>s.includes(e.id))},[e]);return s&&0===e.length?(0,t.jsxs)("div",{className:h().pageContainer,children:[(0,t.jsx)("div",{className:h().loadingState,children:(0,t.jsx)("p",{children:"正在打開你的書櫃..."})}),(0,t.jsx)(i.A,{})]}):a?(0,t.jsxs)("div",{className:h().pageContainer,children:[(0,t.jsxs)("div",{className:h().errorState,children:[(0,t.jsx)("h2",{children:"讀取失敗"}),(0,t.jsx)("p",{children:a}),(0,t.jsx)("button",{onClick:()=>d(!0),className:h().retryBtn,children:"重新嘗試"})]}),(0,t.jsx)(i.A,{})]}):(0,t.jsxs)("div",{className:h().pageContainer,children:[(0,t.jsxs)("header",{className:h().pageHeader,children:[(0,t.jsx)("h1",{children:"我的書櫃"}),(0,t.jsxs)("p",{children:["你收藏了 ",o.length," 部作品"]})]}),(0,t.jsx)("div",{className:h().novelGrid,children:o.length>0?o.map(e=>(0,t.jsx)(r.A,{novel:e},e.id)):(0,t.jsx)("p",{className:h().emptyState,children:"書櫃空空的，快去藏書閣挑幾本喜歡的作品吧！"})}),(0,t.jsx)(i.A,{})]})}},32495:(e,s,a)=>{"use strict";a.d(s,{A:()=>h});var t=a(95155),n=a(6874),l=a.n(n),c=a(35695),r=a(30908),i=a.n(r);let d=[{label:"全部",path:"/novels",icon:"\uD83D\uDCDA",exact:!0},{label:"書櫃",path:"/novels/collection",icon:"⭐",exact:!1},{label:"設定",path:"/novels/settings",icon:"⚙️",exact:!1}];function h(){let e=(0,c.usePathname)();return(0,t.jsx)("nav",{className:i().bottomTabs,children:d.map(s=>{let a=s.exact?e===s.path:e.startsWith(s.path);return(0,t.jsxs)(l(),{href:s.path,className:"".concat(i().tabItem," ").concat(a?i().tabActive:""),children:[(0,t.jsx)("span",{className:i().tabIcon,children:s.icon}),(0,t.jsx)("span",{className:i().tabLabel,children:s.label})]},s.path)})})}},33552:(e,s,a)=>{Promise.resolve().then(a.bind(a,30544))},35322:(e,s,a)=>{"use strict";a.d(s,{A:()=>h});var t=a(95155),n=a(12115),l=a(6874),c=a.n(l),r=a(55663),i=a(30908),d=a.n(i);function h(e){let{novel:s}=e,[a,l]=(0,n.useState)(!1);return(0,t.jsxs)(c(),{href:"/novels/".concat(s.id),className:d().card,children:[(0,t.jsxs)("div",{className:d().coverWrapper,children:[s.cover_url&&!a?(0,t.jsx)("img",{src:(0,r.e4)(s.cover_url),alt:s.title,className:d().coverImage,onError:()=>l(!0)}):(0,t.jsx)("img",{src:"/images/no_cover_5.png",alt:s.title,className:d().coverImage}),(0,t.jsx)("div",{className:d().statusBadge,children:s.status})]}),(0,t.jsxs)("div",{className:d().cardContent,children:[(0,t.jsx)("h3",{className:d().bookTitle,children:s.title}),(0,t.jsx)("p",{className:d().authorName,children:s.author}),(0,t.jsx)("div",{className:d().tagsContainer,children:s.tags.map((e,s)=>(0,t.jsx)("span",{className:d().tag,children:e},s))}),(0,t.jsxs)("div",{className:d().metaData,children:[(0,t.jsxs)("p",{children:["更新至：",s.latest_chapter_title]}),(0,t.jsxs)("p",{children:["總字數：",s.total_words.toLocaleString()," 字"]})]})]})]})}},35695:(e,s,a)=>{"use strict";var t=a(18999);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})}},e=>{var s=s=>e(e.s=s);e.O(0,[5095,3464,6874,7031,8441,1684,7358],()=>s(33552)),_N_E=e.O()}]);