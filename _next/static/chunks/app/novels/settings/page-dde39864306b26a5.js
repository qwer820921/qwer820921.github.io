(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1680],{23560:(e,t,n)=>{Promise.resolve().then(n.bind(n,53804))},30908:e=>{e.exports={pageContainer:"novels_pageContainer__ahS0I",pageHeader:"novels_pageHeader___b4E7",novelGrid:"novels_novelGrid__vbCIi",card:"novels_card__7t6VH",coverWrapper:"novels_coverWrapper__kiuSJ",coverImage:"novels_coverImage__gHLR8",noCover:"novels_noCover__Zc8Xb",statusBadge:"novels_statusBadge__bA6WA",cardContent:"novels_cardContent__TGtTu",bookTitle:"novels_bookTitle__KRDP1",authorName:"novels_authorName__CrtPO",tagsContainer:"novels_tagsContainer__a0Uve",tag:"novels_tag__c0iRx",metaData:"novels_metaData__Y9E_w",loadingState:"novels_loadingState__uQeq0",errorState:"novels_errorState__beznA",emptyState:"novels_emptyState__otVM1",retryBtn:"novels_retryBtn__dHS2x",backNav:"novels_backNav__JlxT_",detailHeader:"novels_detailHeader__8SOUZ",detailCover:"novels_detailCover__xafPD",detailInfo:"novels_detailInfo__gCSVy",favoriteBtn:"novels_favoriteBtn__oPZqB",favorited:"novels_favorited__loLkz",summarySection:"novels_summarySection__m_reN",chaptersSection:"novels_chaptersSection__NAUJf",chaptersHeader:"novels_chaptersHeader__Kbt_I",chapterCount:"novels_chapterCount__JQLYi",chapterList:"novels_chapterList__ncPhF",chapterItem:"novels_chapterItem___0Bkf",chapterTitle:"novels_chapterTitle__uAPX_",chapterDate:"novels_chapterDate__SqCQQ",bottomTabs:"novels_bottomTabs__d3aUY",tabItem:"novels_tabItem__6fIX5",tabIcon:"novels_tabIcon__AoED4",tabLabel:"novels_tabLabel__PIZoB",tabActive:"novels_tabActive__Hs_A2",settingsSection:"novels_settingsSection__l699M",settingsSectionTitle:"novels_settingsSectionTitle__NVHab",themeSelector:"novels_themeSelector__6SYJw",themeOption:"novels_themeOption__sDRch",themeCircle:"novels_themeCircle__rzvZA",themeOptionActive:"novels_themeOptionActive__tkjyo",themeLabel:"novels_themeLabel__nM_uf",settingsRow:"novels_settingsRow__DOgd0",settingsRowLabel:"novels_settingsRowLabel__AIImX",fontFamilySelector:"novels_fontFamilySelector__771g8",fontFamilyOption:"novels_fontFamilyOption__Wea3K",fontFamilyActive:"novels_fontFamilyActive___lvqQ",fontSizeControl:"novels_fontSizeControl__xmRbq",fontSizeBtn:"novels_fontSizeBtn__KwMeL",fontSizeValue:"novels_fontSizeValue__5GaLY",lineHeightSelector:"novels_lineHeightSelector__4Sj39",lineHeightOption:"novels_lineHeightOption__tZVfF",lineHeightActive:"novels_lineHeightActive__R_mMj",previewBox:"novels_previewBox__jj_wD",settingsActions:"novels_settingsActions__9iDco",resetBtn:"novels_resetBtn__KERdO",readerContainer:"novels_readerContainer__Eytc9",readerHeader:"novels_readerHeader__hJkq0",readerBackLink:"novels_readerBackLink__QEFYZ",readerHeaderRight:"novels_readerHeaderRight__toxrl",readerTitle:"novels_readerTitle__oDT2E",readerMeta:"novels_readerMeta__95gYw",readerContent:"novels_readerContent__QE0Pa",authorNoteBox:"novels_authorNoteBox__n9t2e",readerFooterNav:"novels_readerFooterNav__t0KSo",navBtn:"novels_navBtn__EEBTN",navBtnDisabled:"novels_navBtnDisabled__5t_7G",navBtnGhost:"novels_navBtnGhost__mmro_",readerLoading:"novels_readerLoading__4JcEm",readerError:"novels_readerError__E8EY_",readerNavButtons:"novels_readerNavButtons__Xkt_g",tocDrawer:"novels_tocDrawer__36mjB",tocDrawerOpen:"novels_tocDrawerOpen__6Ljbr",tocHeader:"novels_tocHeader__CaOi_",tocCount:"novels_tocCount__a1_8Y",tocList:"novels_tocList__b5cym",tocItem:"novels_tocItem__T2dV2",tocItemActive:"novels_tocItemActive__YLrzN",tocItemDate:"novels_tocItemDate__QNYtm",readerSettingsBtn:"novels_readerSettingsBtn__lkSA_",menuOverlay:"novels_menuOverlay__1K6_B",menuOverlayVisible:"novels_menuOverlayVisible__ht7Sv",readerMenu:"novels_readerMenu__Mnnh7",readerMenuOpen:"novels_readerMenuOpen__ppTwm",menuHandle:"novels_menuHandle__2yj9Y",menuHandleBar:"novels_menuHandleBar__M0wSQ",menuSection:"novels_menuSection__AaMn1",menuSectionLabel:"novels_menuSectionLabel__8nOnS",menuThemeRow:"novels_menuThemeRow__S8TAQ",menuThemeBtn:"novels_menuThemeBtn__MLmm7",menuThemeBtnActive:"novels_menuThemeBtnActive__uZEIE",menuFontSizeRow:"novels_menuFontSizeRow__HwGk7",menuStepBtn:"novels_menuStepBtn__nSBFT",menuFontSizeValue:"novels_menuFontSizeValue__FR_AW",menuFontFamilyRow:"novels_menuFontFamilyRow__WYfqF",menuFontFamilyBtn:"novels_menuFontFamilyBtn__JTSF8",menuFontFamilyBtnActive:"novels_menuFontFamilyBtnActive__L1YJ2",menuLineHeightRow:"novels_menuLineHeightRow__pwMed",menuLineHeightBtn:"novels_menuLineHeightBtn__mfVBH",menuLineHeightBtnActive:"novels_menuLineHeightBtnActive__fFD0G"}},32495:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var o=n(95155),a=n(6874),s=n.n(a),l=n(35695),i=n(30908),_=n.n(i);let r=[{label:"全部",path:"/novels",icon:"\uD83D\uDCDA",exact:!0},{label:"書櫃",path:"/novels/collection",icon:"⭐",exact:!1},{label:"設定",path:"/novels/settings",icon:"⚙️",exact:!1}];function c(){let e=(0,l.usePathname)();return(0,o.jsx)("nav",{className:_().bottomTabs,children:r.map(t=>{let n=t.exact?e===t.path:e.startsWith(t.path);return(0,o.jsxs)(s(),{href:t.path,className:"".concat(_().tabItem," ").concat(n?_().tabActive:""),children:[(0,o.jsx)("span",{className:_().tabIcon,children:t.icon}),(0,o.jsx)("span",{className:_().tabLabel,children:t.label})]},t.path)})})}},35695:(e,t,n)=>{"use strict";var o=n(18999);n.o(o,"usePathname")&&n.d(t,{usePathname:function(){return o.usePathname}}),n.o(o,"useRouter")&&n.d(t,{useRouter:function(){return o.useRouter}})},53804:(e,t,n)=>{"use strict";n.d(t,{default:()=>c});var o=n(95155),a=n(12115),s=n(55663),l=n(99512),i=n(32495),_=n(30908),r=n.n(_);function c(){let[e,t]=(0,a.useState)(l.kR);(0,a.useEffect)(()=>{t((0,s.c7)("SETTINGS",l.kR))},[]);let n=n=>{let o={...e,...n};t(o),(0,s.cT)("SETTINGS",o)},_=l.LC.fontSizes,c=_.indexOf(e.fontSize),v=l.lt[e.theme];return(0,o.jsxs)("div",{className:r().pageContainer,children:[(0,o.jsxs)("header",{className:r().pageHeader,children:[(0,o.jsx)("h1",{children:"偏好設定"}),(0,o.jsx)("p",{children:"打造你最舒適的閱讀環境"})]}),(0,o.jsxs)("section",{className:r().settingsSection,children:[(0,o.jsx)("h2",{className:r().settingsSectionTitle,children:"閱讀主題"}),(0,o.jsx)("div",{className:r().themeSelector,children:l.LC.themes.map(t=>{let a=l.lt[t.id],s=e.theme===t.id;return(0,o.jsxs)("button",{className:"".concat(r().themeOption," ").concat(s?r().themeOptionActive:""),onClick:()=>n({theme:t.id}),"aria-label":"切換至".concat(t.label,"主題"),children:[(0,o.jsx)("span",{className:r().themeCircle,style:{backgroundColor:a.background,color:a.text},children:"Aa"}),(0,o.jsx)("span",{className:r().themeLabel,children:t.label})]},t.id)})})]}),(0,o.jsxs)("section",{className:r().settingsSection,children:[(0,o.jsx)("h2",{className:r().settingsSectionTitle,children:"字體與排版"}),(0,o.jsxs)("div",{className:r().settingsRow,children:[(0,o.jsx)("span",{className:r().settingsRowLabel,children:"字體"}),(0,o.jsx)("div",{className:r().fontFamilySelector,children:l.LC.fontFamilies.map(t=>(0,o.jsx)("button",{className:"".concat(r().fontFamilyOption," ").concat(e.fontFamily===t.id?r().fontFamilyActive:""),onClick:()=>n({fontFamily:t.id}),style:{fontFamily:t.id},children:t.label},t.id))})]}),(0,o.jsxs)("div",{className:r().settingsRow,children:[(0,o.jsx)("span",{className:r().settingsRowLabel,children:"字級"}),(0,o.jsxs)("div",{className:r().fontSizeControl,children:[(0,o.jsx)("button",{className:r().fontSizeBtn,onClick:()=>{c>0&&n({fontSize:_[c-1]})},disabled:c<=0,children:"−"}),(0,o.jsxs)("span",{className:r().fontSizeValue,children:[e.fontSize,"px"]}),(0,o.jsx)("button",{className:r().fontSizeBtn,onClick:()=>{c<_.length-1&&n({fontSize:_[c+1]})},disabled:c>=_.length-1,children:"+"})]})]}),(0,o.jsxs)("div",{className:r().settingsRow,children:[(0,o.jsx)("span",{className:r().settingsRowLabel,children:"行距"}),(0,o.jsx)("div",{className:r().lineHeightSelector,children:l.LC.lineHeights.map(t=>(0,o.jsxs)("button",{className:"".concat(r().lineHeightOption," ").concat(e.lineHeight===t?r().lineHeightActive:""),onClick:()=>n({lineHeight:t}),children:[t,"x"]},t))})]})]}),(0,o.jsxs)("section",{className:r().settingsSection,children:[(0,o.jsx)("h2",{className:r().settingsSectionTitle,children:"即時預覽"}),(0,o.jsx)("div",{className:r().previewBox,style:{backgroundColor:v.background,color:v.text,fontSize:"".concat(e.fontSize,"px"),fontFamily:e.fontFamily,lineHeight:e.lineHeight},children:"道可道，非常道；名可名，非常名。無名天地之始，有名萬物之母。故常無欲以觀其妙，常有欲以觀其徼。此兩者同出而異名，同謂之玄，玄之又玄，眾妙之門。"})]}),(0,o.jsx)("section",{className:r().settingsActions,children:(0,o.jsx)("button",{className:r().resetBtn,onClick:()=>{t(l.kR),(0,s.cT)("SETTINGS",l.kR)},children:"\uD83D\uDD04 恢復預設值"})}),(0,o.jsx)(i.A,{})]})}},55663:(e,t,n)=>{"use strict";n.d(t,{c7:()=>a,cT:()=>s,e4:()=>l});let o={SETTINGS:"novel_reader_settings",COLLECTION:"novel_my_collection"},a=(e,t)=>{try{let n=localStorage.getItem(o[e]);return n?JSON.parse(n):t}catch(n){return console.error("Error reading ".concat(e," from localStorage"),n),t}},s=(e,t)=>{try{localStorage.setItem(o[e],JSON.stringify(t))}catch(t){console.error("Error saving ".concat(e," to localStorage"),t)}},l=e=>{if(!e)return e;let t=e.match(/drive\.google\.com\/uc\?.*id=([^&]+)/);if(null==t?void 0:t[1])return"https://lh3.googleusercontent.com/d/".concat(t[1]);let n=e.match(/drive\.google\.com\/file\/d\/([^/]+)/);return(null==n?void 0:n[1])?"https://lh3.googleusercontent.com/d/".concat(n[1]):e}},99512:(e,t,n)=>{"use strict";n.d(t,{LC:()=>s,kR:()=>o,lt:()=>a});let o={theme:"sepia",fontSize:18,fontFamily:"sans-serif",lineHeight:1.8},a={light:{background:"#ffffff",text:"#333333"},sepia:{background:"#f4ecd8",text:"#5b4636"},dark:{background:"#1a1a1a",text:"#cccccc"}},s={fontSizes:[14,16,18,20,22,24,28,32],lineHeights:[1.5,1.8,2,2.2],themes:[{id:"light",label:"明亮"},{id:"sepia",label:"護眼"},{id:"dark",label:"深色"}],fontFamilies:[{id:"sans-serif",label:"黑體"},{id:"serif",label:"明體"}]}}},e=>{var t=t=>e(e.s=t);e.O(0,[5095,6874,8441,1684,7358],()=>t(23560)),_N_E=e.O()}]);