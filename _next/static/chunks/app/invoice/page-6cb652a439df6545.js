(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5598],{8415:(e,i,n)=>{Promise.resolve().then(n.bind(n,32935))},17351:e=>{e.exports={container:"Toast_container__mG37V",toast:"Toast_toast__5rLqi",slideIn:"Toast_slideIn__t_S7d",icon:"Toast_icon__mPfnn",message:"Toast_message__9z4O2",closeButton:"Toast_closeButton__I_x04",success:"Toast_success__S4BuP",error:"Toast_error__xqcXB",warning:"Toast_warning__NW1GO",info:"Toast_info___BcG7"}},18160:e=>{e.exports={pageContainer:"invoice_pageContainer__aVTBp",contentWrapper:"invoice_contentWrapper__9iPy7",pageTitle:"invoice_pageTitle__xXbtn",shimmer:"invoice_shimmer___eudK",customTabs:"invoice_customTabs__NsQep",glassCard:"invoice_glassCard__Jm7Be",glassCardGold:"invoice_glassCardGold__t9u4S invoice_glassCard__Jm7Be",periodSelector:"invoice_periodSelector__HDpua",periodLabel:"invoice_periodLabel___vqrv",periodSelect:"invoice_periodSelect__GyqFU",prizeSection:"invoice_prizeSection__djRWp",prizeHeader:"invoice_prizeHeader__biKnp",prizeIcon:"invoice_prizeIcon__DPXCT",prizeIconSpecial:"invoice_prizeIconSpecial___rXLS invoice_prizeIcon__DPXCT",glowPulse:"invoice_glowPulse__kOGve",prizeIconGrand:"invoice_prizeIconGrand__SqJMW invoice_prizeIcon__DPXCT",prizeIconFirst:"invoice_prizeIconFirst___2YJ7 invoice_prizeIcon__DPXCT",prizeIconSixth:"invoice_prizeIconSixth__EE8N_ invoice_prizeIcon__DPXCT",prizeTitle:"invoice_prizeTitle__EbSFh",prizeName:"invoice_prizeName__sQ1rQ",prizeAmount:"invoice_prizeAmount__tk03e",prizeBadge:"invoice_prizeBadge__Cj7o8",numberDisplay:"invoice_numberDisplay__9bbOQ",numberCard:"invoice_numberCard__k1lex",shine:"invoice_shine__Do3d2",numberCardSmall:"invoice_numberCardSmall__xHq66 invoice_numberCard__k1lex",numberDigits:"invoice_numberDigits__Qoto_",digit:"invoice_digit__dcCTt",digitHighlight:"invoice_digitHighlight__PnFUu",prizeTag:"invoice_prizeTag__PBUFT",prizeTagAmount:"invoice_prizeTagAmount__Mt2_K",prizeTagLabel:"invoice_prizeTagLabel__qVeWV",keypadContainer:"invoice_keypadContainer__JMCBs",inputDisplay:"invoice_inputDisplay__udOb_",inputDisplayWin:"invoice_inputDisplayWin__XnKDW invoice_inputDisplay__udOb_",winPulse:"invoice_winPulse__cToZG",inputDisplayLose:"invoice_inputDisplayLose__K7xmZ invoice_inputDisplay__udOb_",losePulse:"invoice_losePulse__wbi0T",inputLabel:"invoice_inputLabel__Whw1n",inputValue:"invoice_inputValue__ORASt",inputPlaceholder:"invoice_inputPlaceholder__VPbUU",keypadGrid:"invoice_keypadGrid__gIJFz",keypadButton:"invoice_keypadButton__bGv6h",keypadButtonClear:"invoice_keypadButtonClear__qqm30 invoice_keypadButton__bGv6h",resultContainer:"invoice_resultContainer___E50E",resultWin:"invoice_resultWin__jlMUy invoice_resultContainer___E50E",winGlow:"invoice_winGlow__pbDxm",resultLose:"invoice_resultLose__Pk05M invoice_resultContainer___E50E",resultTitle:"invoice_resultTitle__AyQjS",resultTitleWin:"invoice_resultTitleWin__DEEjP",resultTitleLose:"invoice_resultTitleLose__FW5eW",resultDetail:"invoice_resultDetail__7QIz7",scannerPlaceholder:"invoice_scannerPlaceholder__Kh_yS",scannerIcon:"invoice_scannerIcon___fi6t",scannerTitle:"invoice_scannerTitle__RMr8x",scannerDescription:"invoice_scannerDescription__TkatU",scannerContainer:"invoice_scannerContainer__AQkrA",scannerHint:"invoice_scannerHint__8PBYn",historyList:"invoice_historyList__9ucsZ",historyItem:"invoice_historyItem__foFw5",historyWin:"invoice_historyWin__SncSi",reader__dashboard_section_csr:"invoice_reader__dashboard_section_csr__ROW39",reader__dashboard_section_swaplink:"invoice_reader__dashboard_section_swaplink__w07_Q"}},32935:(e,i,n)=>{"use strict";n.d(i,{default:()=>S});var t=n(95155),s=n(12115),r=n(67590),a=n(88729),l=n(18160),c=n.n(l);let o={specialPrize:{name:"特別獎",amount:1e7,matchDigits:8},grandPrize:{name:"特獎",amount:2e6,matchDigits:8},first:{name:"頭獎",amount:2e5,matchDigits:8},sixth:{name:"六獎",amount:200,matchDigits:3}};var d=n(23464);let u="https://invoice.etax.nat.gov.tw/invoice.xml",m=["https://api.allorigins.win/raw?url=","https://corsproxy.io/?",""],_=0,p=e=>{let i=[];try{new DOMParser().parseFromString(e,"text/xml").querySelectorAll("item").forEach(e=>{var n,t;let s=(null==(n=e.querySelector("title"))?void 0:n.textContent)||"",r=(null==(t=e.querySelector("description"))?void 0:t.textContent)||"",a=r.match(/特別獎[：:]\s*(\d{8})/),l=r.match(/特獎[：:]\s*(\d{8})/),c=r.match(/頭獎[：:]\s*([\d、,\s]+)/),o=r.match(/增開六獎[：:]\s*([\d、,\s]+)/),d=[];c&&c[1]&&c[1].split(/[、,\s]+/).forEach(e=>{let i=e.trim();8===i.length&&/^\d+$/.test(i)&&d.push(i)});let u=[];o&&o[1]&&o[1].split(/[、,\s]+/).forEach(e=>{let i=e.trim();3===i.length&&/^\d+$/.test(i)&&u.push(i)}),s&&(a||l||d.length>0)&&i.push({title:s,superPrizeNo:a?a[1]:"",spcPrizeNo:l?l[1]:"",firstPrizeNo:d,sixthPrizeNo:u})})}catch(e){console.error("Error parsing XML:",e)}return i},h=e=>{let i=e.match(/(\d+)年(\d+)-(\d+)月/);return i?{period:"".concat(i[1],"年").concat(i[2],"-").concat(i[3],"月"),drawDate:e}:{period:e,drawDate:e}},v=e=>{let{period:i,drawDate:n}=h(e.title);return{period:i,drawDate:n,specialPrize:e.superPrizeNo,grandPrize:e.spcPrizeNo,firstPrize:e.firstPrizeNo,additionalSixth:e.sixthPrizeNo}},x=async()=>{let e=[];for(let i=_;i<m.length;i++){let n=m[i],t=n?n+encodeURIComponent(u):u;try{console.log("嘗試使用 ".concat(n?"proxy: ".concat(n):"直接呼叫"));let e=await d.A.get(t,{responseType:"text",headers:{Accept:"application/xml, text/xml, */*"},timeout:1e4}),s=p(e.data);if(0===s.length)throw Error("No data found in XML response");return _=i,console.log("✅ 成功使用 ".concat(n?"proxy: ".concat(n):"直接呼叫")),s.map(v)}catch(s){let t="".concat(n?"Proxy ".concat(n):"直接呼叫"," 失敗: ").concat(s);if(console.warn(t),e.push(t),i<m.length-1)continue}}throw console.error("所有 CORS proxy 都失敗:",e),Error("無法取得發票資料，已嘗試 ".concat(m.length," 種方式。最後錯誤: ").concat(e[e.length-1]))},b=async()=>await x(),g=()=>{let[e,i]=(0,s.useState)(0),[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0),[d,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{l(!0),u(null);try{let e=await b();r(e),e.length>0&&i(0)}catch(e){u("無法載入中獎號碼，請稍後再試"),console.error(e)}finally{l(!1)}})()},[]);let m=n[e]||null,_=e=>new Intl.NumberFormat("zh-TW").format(e);return a?(0,t.jsx)("div",{className:c().glassCard,children:(0,t.jsxs)("div",{className:"text-center py-5",children:[(0,t.jsx)("div",{className:"spinner-border text-warning",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"載入中..."})}),(0,t.jsx)("p",{className:"mt-3 text-white-50",children:"正在載入中獎號碼..."})]})}):d?(0,t.jsx)("div",{className:c().glassCard,children:(0,t.jsx)("div",{className:"text-center py-5",children:(0,t.jsx)("p",{className:"text-danger",children:d})})}):(0,t.jsxs)("div",{className:c().glassCardGold,children:[(0,t.jsxs)("div",{className:c().periodSelector,children:[(0,t.jsx)("label",{className:c().periodLabel,children:"開獎期別"}),(0,t.jsx)("select",{className:c().periodSelect,value:e,onChange:e=>i(parseInt(e.target.value)),children:n.map((e,i)=>(0,t.jsx)("option",{value:i,children:e.period},i))})]}),m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:c().prizeSection,children:[(0,t.jsxs)("div",{className:c().prizeHeader,children:[(0,t.jsx)("div",{className:c().prizeIconSpecial,children:"\uD83C\uDFC6"}),(0,t.jsxs)("div",{className:c().prizeTitle,children:[(0,t.jsx)("div",{className:c().prizeName,children:"特別獎"}),(0,t.jsx)("div",{className:c().prizeAmount,children:"8位數號碼完全相同"})]}),(0,t.jsxs)("div",{className:c().prizeBadge,children:["$",_(o.specialPrize.amount)]})]}),(0,t.jsx)("div",{className:c().numberDisplay,children:(0,t.jsx)("div",{className:c().numberCard,children:m.specialPrize||"尚未開獎"})})]}),(0,t.jsxs)("div",{className:c().prizeSection,children:[(0,t.jsxs)("div",{className:c().prizeHeader,children:[(0,t.jsx)("div",{className:c().prizeIconGrand,children:"\uD83D\uDC8E"}),(0,t.jsxs)("div",{className:c().prizeTitle,children:[(0,t.jsx)("div",{className:c().prizeName,children:"特獎"}),(0,t.jsx)("div",{className:c().prizeAmount,children:"8位數號碼完全相同"})]}),(0,t.jsxs)("div",{className:c().prizeBadge,children:["$",_(o.grandPrize.amount)]})]}),(0,t.jsx)("div",{className:c().numberDisplay,children:(0,t.jsx)("div",{className:c().numberCard,children:m.grandPrize})})]}),(0,t.jsxs)("div",{className:c().prizeSection,children:[(0,t.jsxs)("div",{className:c().prizeHeader,children:[(0,t.jsx)("div",{className:c().prizeIconFirst,children:"\uD83E\uDD47"}),(0,t.jsxs)("div",{className:c().prizeTitle,children:[(0,t.jsx)("div",{className:c().prizeName,children:"頭獎"}),(0,t.jsxs)("div",{className:c().prizeAmount,children:["後3碼 $200 → 後8碼 $",_(o.first.amount)]})]})]}),(0,t.jsx)("div",{className:c().numberDisplay,children:m.firstPrize.map((e,i)=>(0,t.jsx)("div",{className:c().numberCard,children:e},i))})]}),m.additionalSixth.length>0&&(0,t.jsxs)("div",{className:c().prizeSection,children:[(0,t.jsxs)("div",{className:c().prizeHeader,children:[(0,t.jsx)("div",{className:c().prizeIconSixth,children:"\uD83C\uDFAF"}),(0,t.jsxs)("div",{className:c().prizeTitle,children:[(0,t.jsx)("div",{className:c().prizeName,children:"增開六獎"}),(0,t.jsx)("div",{className:c().prizeAmount,children:"末3碼相同"})]}),(0,t.jsxs)("div",{className:c().prizeBadge,children:["$",_(o.sixth.amount)]})]}),(0,t.jsx)("div",{className:c().numberDisplay,children:m.additionalSixth.map((e,i)=>(0,t.jsx)("div",{className:c().numberCardSmall,children:e},i))})]})]})]})};var N=n(77719);let j=()=>{let[e,i]=(0,s.useState)(""),[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(0),[o,d]=(0,s.useState)(null),[u,m]=(0,s.useState)("normal"),[_,p]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{let e=await b();r(e)}catch(e){console.error("Failed to load lottery data:",e)}finally{p(!1)}})()},[]);let h=n[a]||null,v=(0,N.dj)();(0,s.useEffect)(()=>{if(3===e.length&&h){let n=function(e,i){let n=[];for(let t of(i.specialPrize.endsWith(e)&&n.push("特別獎 (末3碼相同)"),i.grandPrize.endsWith(e)&&n.push("特獎 (末3碼相同)"),i.firstPrize))t.endsWith(e)&&n.push("頭獎/分獎 (末3碼相同: ".concat(t.substring(0,5),"...").concat(e,")"));if(i.additionalSixth&&i.additionalSixth.length>0)for(let t of i.additionalSixth)t===e&&n.push("增開六獎: ".concat(t));return{possible:n.length>0,matches:n}}(e,h);d({checked:!0,possible:n.possible,matches:n.matches}),m(n.possible?"win":"lose"),n.possible?v.success("\uD83C\uDF89 可能中獎！".concat(n.matches.join("、"))):v.info("末三碼 ".concat(e," 未中獎，再試一張！")),n.possible||setTimeout(()=>{i(""),d(null),m("normal")},800)}else d(null),m("normal")},[e,h]);let x=n=>{"C"===n?(i(""),d(null),m("normal")):e.length<3&&i(e=>e+n)};return(0,t.jsx)("div",{className:c().glassCard,children:(0,t.jsxs)("div",{className:c().keypadContainer,children:[(0,t.jsxs)("div",{className:c().periodSelector,children:[(0,t.jsx)("label",{className:c().periodLabel,children:"對獎期別"}),(0,t.jsx)("select",{className:c().periodSelect,value:a,onChange:e=>{l(parseInt(e.target.value)),i(""),d(null),m("normal")},disabled:_,children:n.map((e,i)=>(0,t.jsx)("option",{value:i,children:e.period},i))})]}),(0,t.jsxs)("div",{className:(()=>{switch(u){case"win":return c().inputDisplayWin;case"lose":return c().inputDisplayLose;default:return c().inputDisplay}})(),children:[(0,t.jsx)("div",{className:c().inputLabel,children:"請輸入發票末三碼"}),(0,t.jsx)("div",{className:c().inputValue,children:e||(0,t.jsx)("span",{className:c().inputPlaceholder,children:"_ _ _"})})]}),(null==o?void 0:o.checked)&&(0,t.jsxs)("div",{className:o.possible?c().resultWin:c().resultLose,children:[(0,t.jsx)("div",{className:"".concat(c().resultTitle," ").concat(o.possible?c().resultTitleWin:c().resultTitleLose),children:o.possible?"\uD83C\uDF89 有機會中獎！":"\uD83D\uDE22 沒有中獎"}),o.possible&&(0,t.jsxs)("div",{className:c().resultDetail,children:[o.matches.map((e,i)=>(0,t.jsx)("div",{children:e},i)),(0,t.jsx)("div",{className:"mt-2 text-white-50",children:"請確認完整8碼以確定中獎金額"})]})]}),(0,t.jsx)("div",{className:c().keypadGrid,children:["1","2","3","4","5","6","7","8","9","C","0"].map(e=>(0,t.jsx)("button",{className:"C"===e?c().keypadButtonClear:c().keypadButton,onClick:()=>x(e),children:"C"===e?"清除":e},e))})]})})};var y=n(98015);let z=null,f=()=>{if(!z){let e=window.AudioContext||window.webkitAudioContext;e&&(z=new e)}return z},C=function(e,i,n){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=f();if(!s)return;let r=s.createOscillator(),a=s.createGain();r.type=i,r.frequency.value=e,r.connect(a),a.connect(s.destination);let l=s.currentTime+t;a.gain.setValueAtTime(0,l),a.gain.linearRampToValueAtTime(.1,l+.05),a.gain.linearRampToValueAtTime(0,l+n),r.start(l),r.stop(l+n+.1)},w=()=>{C(880,"sine",.1,0),C(1760,"sine",.4,.15)},D=()=>{C(150,"sawtooth",.15,0)},T=()=>{let[e,i]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0),[o,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!1),[_,p]=(0,s.useState)(null),h=(0,s.useRef)(null),v=(0,s.useRef)(null),x="reader",g=(0,N.dj)(),[j,z]=(0,s.useState)(0);(0,s.useEffect)(()=>{(async()=>{try{let e=await b();i(e)}catch(e){console.error("Failed to load lottery data:",e),d("無法載入中獎號碼資料")}finally{l(!1)}})()},[]),(0,s.useEffect)(()=>{let e=!0,i=null,n=setTimeout(async()=>{if(!a&&document.getElementById(x)){if(v.current){try{v.current.isScanning&&await v.current.stop(),v.current.clear()}catch(e){console.warn("Cleanup previous scanner failed",e)}v.current=null}try{v.current=i=new y.j9(x);let n=await y.j9.getCameras().catch(e=>{throw console.warn("Unable to get cameras",e),Error("Permission Denied or No Cameras")});if(!e)return;if(n&&n.length>0){p(!0),d(null);let t=n[0].id,s=n.find(e=>e.label.toLowerCase().includes("back")),r=s?s.id:t;if(!v.current)return;await i.start(r,{fps:10,qrbox:{width:250,height:250},aspectRatio:1},i=>{e&&f(i)},e=>{}),e&&m(!0)}else e&&(p(!1),d("找不到相機裝置"))}catch(i){e&&(console.error("Error starting scanner:",i),p(!1),d("無法啟動相機，請確認權限"))}}},100);return()=>{if(e=!1,clearTimeout(n),v.current){let e=v.current;v.current=null,(async()=>{try{e.isScanning&&await e.stop(),await e.clear()}catch(e){console.error("Failed to cleanup scanner:",e)}})()}}},[a,e,j]);let f=i=>{let n=function(e){if(!e||e.length<17)return null;let i=e.substring(0,10),n=e.substring(2,10);if(!/^[A-Z]{2}[0-9]{8}$/.test(i))return null;let t=e.substring(10,13),s=parseInt(e.substring(13,15),10),r="";return{number:n,period:s<=2?"".concat(t,"年01-02月"):s<=4?"".concat(t,"年03-04月"):s<=6?"".concat(t,"年05-06月"):s<=8?"".concat(t,"年07-08月"):s<=10?"".concat(t,"年09-10月"):"".concat(t,"年11-12月")}}(i);if(!n)return;let t="".concat(n.period,"-").concat(n.number);if(h.current===t)return;h.current=t,setTimeout(()=>{h.current=null},3e3);let s=e.find(e=>e.period===n.period);if(!s)return void g.warning("期別 ".concat(n.period," 尚未開獎或無資料"));let a=function(e,i){if(e===i.specialPrize)return{isWinner:!0,prize:{name:"特別獎",amount:1e7,matchType:"8"},matchedNumber:e};if(e===i.grandPrize)return{isWinner:!0,prize:{name:"特獎",amount:2e6,matchType:"8"},matchedNumber:e};for(let n of i.firstPrize){if(e===n)return{isWinner:!0,prize:{name:"頭獎",amount:2e5,matchType:"8"},matchedNumber:e};if(e.substring(1)===n.substring(1))return{isWinner:!0,prize:{name:"二獎",amount:4e4,matchType:"7"},matchedNumber:n.substring(1)};if(e.substring(2)===n.substring(2))return{isWinner:!0,prize:{name:"三獎",amount:1e4,matchType:"6"},matchedNumber:n.substring(2)};if(e.substring(3)===n.substring(3))return{isWinner:!0,prize:{name:"四獎",amount:4e3,matchType:"5"},matchedNumber:n.substring(3)};if(e.substring(4)===n.substring(4))return{isWinner:!0,prize:{name:"五獎",amount:1e3,matchType:"4"},matchedNumber:n.substring(4)};if(e.substring(5)===n.substring(5))return{isWinner:!0,prize:{name:"六獎",amount:200,matchType:"3"},matchedNumber:n.substring(5)}}if(i.additionalSixth&&i.additionalSixth.length>0){for(let n of i.additionalSixth)if(e.substring(5)===n)return{isWinner:!0,prize:{name:"增開六獎",amount:200,matchType:"3"},matchedNumber:n}}return{isWinner:!1}}(n.number,s);if(a.isWinner){var l,c;w(),g.success("\uD83C\uDF89 中獎了！".concat(n.period," ").concat(n.number," - ").concat(null==(l=a.prize)?void 0:l.name," ").concat((null==(c=a.prize)?void 0:c.amount)?"$".concat(a.prize.amount):""))}else D(),g.info("\uD83D\uDE22 沒中獎 - ".concat(n.period," ").concat(n.number));let o={id:crypto.randomUUID(),number:n.number,period:n.period,result:a,timestamp:new Date};r(e=>[o,...e])};return(0,t.jsxs)("div",{className:c().glassCard,children:[(0,t.jsx)("h2",{className:"text-center text-white mb-4",children:"\uD83D\uDCF7 掃描電子發票"}),a&&(0,t.jsx)("div",{className:"text-center text-white",children:"載入資料中..."}),!a&&!1===_&&(0,t.jsxs)("div",{className:"text-center p-4",children:[(0,t.jsx)("div",{className:"text-danger mb-3",style:{fontSize:"3rem"},children:"\uD83D\uDD12"}),(0,t.jsx)("h4",{className:"text-white mb-3",children:"無法存取相機"}),(0,t.jsxs)("p",{className:"text-white-50 mb-4",children:["請檢查瀏覽器網址列的相機圖示，",(0,t.jsx)("br",{}),"確認已設定為「允許」存取。"]}),(0,t.jsx)("button",{className:"btn btn-primary px-4 py-2",onClick:()=>{d(null),p(null),z(e=>e+1)},children:"重新啟動相機"})]}),!a&&o&&!1!==_&&(0,t.jsx)("div",{className:"text-center text-danger mb-3",children:o}),!a&&!o&&!1!==_&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"position-relative mb-3",children:[(0,t.jsx)("div",{id:x,className:c().scannerContainer}),!u&&(0,t.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle text-white fw-bold",children:"\uD83D\uDCF7 啟動相機中..."})]}),(0,t.jsx)("div",{className:c().scannerHint,children:"請將電子發票 QR Code 對準框框"}),n.length>0&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h3",{className:"text-white text-lg mb-3 border-bottom pb-2",children:"掃描紀錄"}),(0,t.jsx)("div",{className:c().historyList,children:n.map(e=>{var i,n;return(0,t.jsx)("div",{className:"".concat(c().historyItem," ").concat(e.result.isWinner?c().historyWin:""),children:(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white-50 text-xs",children:e.period}),(0,t.jsx)("div",{className:"fw-bold text-white fs-5 font-monospace",children:e.number})]}),(0,t.jsx)("div",{className:"text-end",children:e.result.isWinner?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"badge bg-danger mb-1",children:null==(i=e.result.prize)?void 0:i.name}),(0,t.jsx)("div",{className:"text-warning fw-bold",children:(null==(n=e.result.prize)?void 0:n.amount)?"$".concat(e.result.prize.amount):"金額依實際領獎"})]}):(0,t.jsx)("div",{className:"badge bg-secondary",children:"未中獎"})})]})},e.id)})})]})]})]})},S=()=>{let[e,i]=(0,s.useState)("numbers");return(0,t.jsx)("div",{className:c().pageContainer,children:(0,t.jsxs)("div",{className:c().contentWrapper,children:[(0,t.jsx)("h1",{className:c().pageTitle,children:"統一發票對獎"}),(0,t.jsxs)(r.A,{activeKey:e,onSelect:e=>i(e||"numbers"),className:c().customTabs,children:[(0,t.jsx)(a.A,{eventKey:"numbers",title:"\uD83D\uDCCB 發票資訊",children:(0,t.jsx)(g,{})}),(0,t.jsx)(a.A,{eventKey:"keypad",title:"⌨️ 快速對獎",children:(0,t.jsx)(j,{})}),(0,t.jsx)(a.A,{eventKey:"scan",title:"\uD83D\uDCF7 掃描對獎",mountOnEnter:!0,unmountOnExit:!0,children:(0,t.jsx)(T,{})})]})]})})}},77719:(e,i,n)=>{"use strict";n.d(i,{N9:()=>_,tE:()=>l,dj:()=>c});var t=n(95155),s=n(12115);let r=(0,s.createContext)(void 0),a=0,l=e=>{let{children:i}=e,[n,l]=(0,s.useState)([]),c=(0,s.useCallback)(e=>{l(i=>i.filter(i=>i.id!==e))},[]),o=(0,s.useCallback)(function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,t="toast-".concat(++a),s={id:t,message:e,type:i,duration:n};l(e=>[...e,s]),n>0&&setTimeout(()=>{c(t)},n)},[c]),d=(0,s.useCallback)((e,i)=>o(e,"success",i),[o]),u=(0,s.useCallback)((e,i)=>o(e,"error",i),[o]),m=(0,s.useCallback)((e,i)=>o(e,"warning",i),[o]),_=(0,s.useCallback)((e,i)=>o(e,"info",i),[o]);return(0,t.jsx)(r.Provider,{value:{toasts:n,showToast:o,removeToast:c,success:d,error:u,warning:m,info:_},children:i})},c=()=>{let e=(0,s.useContext)(r);if(!e)throw Error("useToast must be used within a ToastProvider");return e};var o=n(17351),d=n.n(o);let u=e=>{switch(e){case"success":return"✓";case"error":return"✕";case"warning":return"⚠";default:return"ℹ"}},m=e=>{let{toast:i,onClose:n}=e;return(0,t.jsxs)("div",{className:"".concat(d().toast," ").concat(d()[i.type]),children:[(0,t.jsx)("span",{className:d().icon,children:u(i.type)}),(0,t.jsx)("span",{className:d().message,children:i.message}),(0,t.jsx)("button",{className:d().closeButton,onClick:n,children:"✕"})]})},_=()=>{let{toasts:e,removeToast:i}=c();return 0===e.length?null:(0,t.jsx)("div",{className:d().container,children:e.map(e=>(0,t.jsx)(m,{toast:e,onClose:()=>i(e.id)},e.id))})}}},e=>{var i=i=>e(e.s=i);e.O(0,[1698,5604,3464,2601,669,6449,8441,1684,7358],()=>i(8415)),_N_E=e.O()}]);