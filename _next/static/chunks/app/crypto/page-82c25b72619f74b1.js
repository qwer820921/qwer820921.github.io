(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{29136:(e,l,s)=>{"use strict";s.d(l,{default:()=>g});var t=s(95155),a=s(12115),n=s(54239),i=s(79466),r=s(23464),c=function(e){return e["1m"]="1 分鐘",e["3m"]="3 分鐘",e["5m"]="5 分鐘",e["15m"]="15 分鐘",e["30m"]="30 分鐘",e["1h"]="1 小時",e["2h"]="2 小時",e["4h"]="4 小時",e["6h"]="6 小時",e["8h"]="8 小時",e["12h"]="12 小時",e["1d"]="1 天",e["3d"]="3 天",e["1w"]="1 週",e["1M"]="1 月",e}({});let o="https://api.binance.com/api/v3",d=async()=>(await r.A.get("".concat(o,"/exchangeInfo"))).data.symbols.map(e=>({key:e.symbol,value:e.symbol})),m=()=>Object.entries(c).map(e=>{let[l,s]=e;return{key:l,value:s}}),u=async e=>{let{symbol:l,interval:s,startTime:t,endTime:a,limit:n=500}=e;return(await r.A.get("".concat(o,"/klines"),{params:{symbol:l,interval:s,startTime:t,endTime:a,limit:n}})).data},h=()=>[{symbol:"BTCUSDT",value:"BTC/USDT - 60分K",interval:"1h",limit:100},{symbol:"ETHUSDT",value:"ETH/USDT - 15分K",interval:"15m",limit:200},{symbol:"BNBUSDT",value:"BNB/USDT - 日K",interval:"1d",limit:100},{symbol:"BTCUSDT",value:"BTC/USDT - 5分K",interval:"5m",limit:50}];s(85960);var x=s(55028),v=s(39170);let p=(0,x.default)(()=>Promise.all([s.e(781),s.e(342)]).then(s.bind(s,88342)),{loadableGenerated:{webpack:()=>[88342]},ssr:!1}),g=()=>{let[e,l]=(0,a.useState)([]),[s]=(0,a.useState)(m()),[r]=(0,a.useState)(h()),[c,o]=(0,a.useState)("NXPCUSDT"),[x,g]=(0,a.useState)("1m"),j=new Date,N=new Date(j.getFullYear(),j.getMonth(),j.getDate(),0,0,0),[b,y]=(0,a.useState)(N),[f,S]=(0,a.useState)(j),[T,w]=(0,a.useState)([]),[D,C]=(0,a.useState)(!1),k=(0,a.useRef)(null);(0,a.useEffect)(()=>{d().then(l)},[]),(0,a.useEffect)(()=>{if(!k.current||0===T.length)return;k.current.innerHTML="";let e=(0,i.R9)(k.current);return e.addCandlestickSeries().setData(T.map(e=>{let[l,s,t,a,n]=e;return{time:Number(l)/1e3,open:parseFloat(s),high:parseFloat(t),low:parseFloat(a),close:parseFloat(n)}})),()=>e.remove()},[T]);let U=async()=>{if(c&&x){C(!0);try{let e=await u({symbol:c,interval:x,startTime:null==b?void 0:b.getTime(),endTime:null==f?void 0:f.getTime()});w(e)}catch(e){console.error(e)}finally{C(!1)}}},B=async e=>{o(e.symbol),g(e.interval),y(null),S(null),C(!0);try{let l=await u({symbol:e.symbol,interval:e.interval,limit:e.limit});w(l)}catch(e){console.error(e)}finally{C(!1)}};return(0,t.jsxs)("div",{className:"container py-4",children:[(0,t.jsx)(v.A,{isLoading:D}),(0,t.jsx)("h1",{className:"mb-4 text-center",children:"加密貨幣資訊"}),(0,t.jsxs)("form",{className:"row g-3 align-items-end",children:[(0,t.jsx)("div",{className:"col-xl-3 col-lg-6",children:(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("span",{className:"input-group-text",children:"幣種"}),(0,t.jsx)("div",{className:"flex-grow-1",children:(0,t.jsx)(p,{id:"symbol-select",isMulti:!1,value:c,onValueChange:e=>o(e),items:e})})]})}),(0,t.jsx)("div",{className:"col-xl-3 col-lg-6",children:(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("span",{className:"input-group-text",children:"K棒週期"}),(0,t.jsx)("div",{className:"flex-grow-1",children:(0,t.jsx)(p,{id:"interval-select",isMulti:!1,value:x,onValueChange:e=>g(e),items:s})})]})}),(0,t.jsx)("div",{className:"col-xl-3 col-lg-6",children:(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("span",{className:"input-group-text",children:"開始日期"}),(0,t.jsx)("div",{className:"flex-grow-1",children:(0,t.jsx)(n.Ay,{selected:b,onChange:e=>y(e),selectsStart:!0,startDate:b,endDate:f,showTimeSelect:!0,dateFormat:"Pp",className:"form-control",maxDate:f||void 0})})]})}),(0,t.jsx)("div",{className:"col-xl-3 col-lg-6",children:(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("span",{className:"input-group-text",children:"結束日期"}),(0,t.jsx)("div",{className:"flex-grow-1",children:(0,t.jsx)(n.Ay,{selected:f,onChange:e=>S(e),selectsEnd:!0,startDate:b,endDate:f,showTimeSelect:!0,dateFormat:"Pp",className:"form-control",minDate:b||void 0})})]})})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("button",{className:"btn btn-primary",onClick:U,disabled:!c||!x,children:"查詢 K 線圖"})}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h5",{children:"快速查詢"}),(0,t.jsx)("div",{className:"d-flex flex-wrap gap-2",children:r.map(e=>(0,t.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>B(e),children:e.value},e.value))})]}),(0,t.jsx)("div",{className:"mt-5",children:(0,t.jsx)("div",{ref:k,style:{height:"400px"}})})]})}},39170:(e,l,s)=>{"use strict";s.d(l,{A:()=>a});var t=s(95155);s(12115);let a=e=>{let{isLoading:l}=e;return l?(0,t.jsx)("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center",style:{backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1050},children:(0,t.jsx)("div",{className:"spinner-border text-light",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):null}},85960:()=>{},95309:(e,l,s)=>{Promise.resolve().then(s.bind(s,29136))}},e=>{var l=l=>e(e.s=l);e.O(0,[785,545,579,464,985,441,684,358],()=>l(95309)),_N_E=e.O()}]);