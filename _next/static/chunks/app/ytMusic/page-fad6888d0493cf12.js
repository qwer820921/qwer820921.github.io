(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9],{10255:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(95155),r(47650),r(85744),r(20589)},17828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(64054).createAsyncLocalStorage)()},19671:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(95155),u=r(12115),o=r(35695),l=r(40283);let a=(0,r(55028).default)(()=>Promise.all([r.e(166),r.e(464),r.e(102),r.e(75),r.e(605),r.e(886),r.e(643)]).then(r.bind(r,37643)),{loadableGenerated:{webpack:()=>[37643]},ssr:!1});function s(){let e=(0,o.useRouter)(),{isAuthenticated:t,isInitialized:r}=(0,l.A)(),[s,i]=(0,u.useState)(!0);return((0,u.useEffect)(()=>{if(r){if(!t)return void e.push("/logIn");i(!1)}},[t,r,e]),!r||s)?(0,n.jsx)("div",{children:"加載中..."}):(0,n.jsx)(a,{})}},35695:(e,t,r)=>{"use strict";var n=r(18999);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},36645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let n=r(88229)._(r(67357));function u(e,t){var r;let u={};"function"==typeof e&&(u.loader=e);let o={...u,...t};return(0,n.default)({...o,modules:null==(r=o.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},40283:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,O:()=>l});var n=r(95155),u=r(12115);let o=(0,u.createContext)(void 0),l=e=>{let{children:t}=e,[r,l]=(0,u.useState)(!1),[a,s]=(0,u.useState)({isAuthenticated:!1,userId:null,username:null});(0,u.useEffect)(()=>{let e=()=>{{let e=localStorage.getItem("user_id"),t=localStorage.getItem("username");e&&t?s({isAuthenticated:!0,userId:e,username:t}):s({isAuthenticated:!1,userId:null,username:null})}};return e(),l(!0),window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]);let i={...a,isInitialized:r,login:(e,t)=>{try{localStorage.setItem("user_id",e),localStorage.setItem("username",t),s({isAuthenticated:!0,userId:e,username:t}),window.dispatchEvent(new Event("storage"))}catch(e){throw console.error("登入時出錯:",e),e}},logout:()=>{try{localStorage.removeItem("user_id"),localStorage.removeItem("username"),s({isAuthenticated:!1,userId:null,username:null}),window.dispatchEvent(new Event("storage"))}catch(e){throw console.error("登出時出錯:",e),e}}};return(0,n.jsx)(o.Provider,{value:i,children:t})},a=()=>{let e=(0,u.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},55028:(e,t,r)=>{"use strict";r.d(t,{default:()=>u.a});var n=r(36645),u=r.n(n)},62146:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(45262)},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return o},createSnapshot:function(){return a}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let u="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function o(){return u?new u:new n}function l(e){return u?u.bind(e):n.bind(e)}function a(){return u?u.snapshot():function(e,...t){return e(...t)}}},67357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=r(95155),u=r(12115),o=r(62146);function l(e){return{default:e&&"default"in e?e.default:e}}r(10255);let a={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},s=function(e){let t={...a,...e},r=(0,u.lazy)(()=>t.loader().then(l)),s=t.loading;function i(e){let l=s?(0,n.jsx)(s,{isLoading:!0,pastDelay:!0,error:null}):null,a=!t.ssr||!!t.loading,i=a?u.Suspense:u.Fragment,c=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(i,{...a?{fallback:l}:{},children:c})}return i.displayName="LoadableComponent",i}},78814:(e,t,r)=>{Promise.resolve().then(r.bind(r,19671))},85744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(17828)}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(78814)),_N_E=e.O()}]);