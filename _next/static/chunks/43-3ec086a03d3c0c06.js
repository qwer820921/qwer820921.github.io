(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43],{11518:(e,t,s)=>{"use strict";e.exports=s(82269).style},30043:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(95155),a=s(11518),n=s.n(a),i=s(12115),o=function(e){return e.STRENGTH="STRENGTH",e.ATTACK_SPEED="ATTACK_SPEED",e.CRITICAL_CHANCE="CRITICAL_CHANCE",e.GOLD_BONUS="GOLD_BONUS",e}({}),l=function(e){return e.ADDITIVE="ADDITIVE",e.MULTIPLICATIVE="MULTIPLICATIVE",e}({}),f=function(e){return e.COMMON="COMMON",e.RARE="RARE",e.EPIC="EPIC",e.LEGEND="LEGEND",e}({}),d=function(e){return e.FINAL_DAMAGE_BOOST="FINAL_DAMAGE_BOOST",e.DOUBLE_HIT_CHANCE="DOUBLE_HIT_CHANCE",e.BOSS_DAMAGE_BONUS="BOSS_DAMAGE_BONUS",e.CRITICAL_DAMAGE_UP="CRITICAL_DAMAGE_UP",e.GOLD_DROP_FIXED="GOLD_DROP_FIXED",e.AUTO_CLICKER="AUTO_CLICKER",e.COMBO_STREAK="COMBO_STREAK",e}({}),c=s(23464);let m="https://script.google.com/macros/s/AKfycbztLuM47hvLMEDzhNIxuZHM-P6hgo1K4_PIje2NfwQug9E8keM2HtuwyI0M8dQyikcjUA/exec",u=async()=>{try{let e=await c.A.get("".concat(m,"?action=getConfigs"));if(!e.data.upgradePool||!e.data.generalShop||!e.data.relics)throw Error("Unexpected response format: Missing game configurations");return e.data}catch(e){throw console.error("Error fetching game configs:",e),e}},h=async e=>{try{let t=await c.A.get("".concat(m,"?action=loadSave&userId=").concat(e));if("NotFound"===t.data)return null;return t.data}catch(e){throw console.error("Error loading player save:",e),e}},p=async(e,t)=>{try{if(!e)throw Error("User ID is required for saving");let s=await c.A.post(m,{userId:e,gameState:t},{headers:{"Content-Type":"text/plain"},withCredentials:!1});if("Save Success"===s.data||s.data.success)return{success:!0};throw Error("Save operation failed on backend")}catch(e){throw console.error("Error saving player progress:",e),e}},x={gold:0,combo:0,attributes:{[o.STRENGTH]:{value:10,bonusMultiplier:1},[o.ATTACK_SPEED]:{value:1,bonusMultiplier:1},[o.CRITICAL_CHANCE]:{value:5,bonusMultiplier:1},[o.GOLD_BONUS]:{value:0,bonusMultiplier:1}},stage:{currentLevel:1,currentHp:100,maxHp:100,monsterName:"史萊姆",isLucky:!1,isBoss:!1,timer:0,maxTimer:0},clickProgress:{currentClicks:0,totalClicks:0,pendingUpgrades:0},shop:{generalItems:[],relics:[]},ui:{isUpgradeModalOpen:!1,currentOptions:[]}};function b(){let[e,t]=(0,i.useState)(x),[s,a]=(0,i.useState)(null),[c,m]=(0,i.useState)([]),[b,g]=(0,i.useState)(!1),[j,y]=(0,i.useState)("GENERAL"),[v,w]=(0,i.useState)(!1),[k,N]=(0,i.useState)(!1),[_,S]=(0,i.useState)("");(0,i.useEffect)(()=>{(async()=>{let e=localStorage.getItem("noWashGames_saveKey");if(e){S(e);try{let s=await h(e);s&&(t(s),E(new Date))}catch(e){console.error("自動讀取存檔失敗:",e)}}})()},[]),(0,i.useEffect)(()=>{_&&localStorage.setItem("noWashGames_saveKey",_)},[_]);let[C,E]=(0,i.useState)(null),[z,A]=(0,i.useState)(!1),T=(0,i.useCallback)((e,t,s)=>{let r=Math.random();m(a=>[...a,{id:r,text:e,isClick:t,isCrit:s}]),setTimeout(()=>m(e=>e.filter(e=>e.id!==r)),800)},[]),R=(0,i.useMemo)(()=>{let t=e.attributes,s=t[o.STRENGTH].value*t[o.STRENGTH].bonusMultiplier,r=t[o.ATTACK_SPEED].value*t[o.ATTACK_SPEED].bonusMultiplier,a=Math.min(t[o.CRITICAL_CHANCE].value*t[o.CRITICAL_CHANCE].bonusMultiplier/100,1),n=(1+t[o.GOLD_BONUS].value/100)*t[o.GOLD_BONUS].bonusMultiplier,i=t[o.GOLD_BONUS].value,l=t[o.GOLD_BONUS].bonusMultiplier,f=s*r*(1+a);return e.shop.relics.filter(e=>e.isOwned).forEach(t=>{t.relicEffect===d.FINAL_DAMAGE_BOOST&&(f*=1+t.effectValue),t.relicEffect===d.COMBO_STREAK&&(f*=1+Math.min(e.combo*t.effectValue,.5))}),{dps:f,goldMultiplier:n,critRate:a,displayGoldBase:i,displayGoldMulti:l,displayGoldTotal:Math.round(((1+i/100)*l-1)*100)}},[e.attributes,e.shop.relics,e.combo]),I=(0,i.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(_){A(!0);try{await p(_,e),E(new Date),t||(alert("✅ 存檔上傳成功！您的進度已同步至雲端。"),w(!1))}catch(e){console.error("存檔失敗:",e)}finally{setTimeout(()=>A(!1),1e3)}}},[_,e]),O=(0,i.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!_){e||alert("請輸入存檔代碼");return}A(!0);try{let s=await h(_);s?(t(s),E(new Date),e||(alert("\uD83D\uDCE5 讀檔成功！歡迎回來，冒險者。"),w(!1))):e||alert("❓ 找不到存檔。請確認代碼是否正確。")}catch(e){console.error("讀取存檔失敗:",e)}finally{A(!1)}},[_]);(0,i.useEffect)(()=>{if(!_)return;let e=setInterval(()=>I(!0),6e4);return()=>clearInterval(e)},[I,_]),(0,i.useEffect)(()=>{(async()=>{try{let e=await u();a(e),t(t=>({...t,shop:{generalItems:e.generalShop.map(e=>({...e,currentLevel:e.currentLevel||0})),relics:e.relics.map(e=>({...e,isOwned:e.isOwned||!1}))}}))}catch(e){console.error("載入設定失敗:",e)}})()},[]),(0,i.useEffect)(()=>{let e=setInterval(()=>{t(e=>{let t={...e},s=e.shop.relics.find(e=>e.relicEffect===d.AUTO_CLICKER&&e.isOwned);if(s&&(t.clickProgress.currentClicks+=.1*s.effectValue,t.clickProgress.currentClicks>=10&&(t.clickProgress.currentClicks=0,t.clickProgress.pendingUpgrades+=1)),e.stage.isBoss&&(t.stage.timer-=.1,t.stage.timer<=0)){let t=Math.max(1,e.stage.currentLevel-1);return{...e,combo:0,stage:{...e.stage,currentLevel:t,isBoss:!1,currentHp:100,timer:0}}}if(t.stage.currentHp-=.1*R.dps,t.stage.currentHp<=0){let s=e.stage.currentLevel+1,r=s%10==0,a=10*s*R.goldMultiplier,n=Math.floor(100*Math.pow(1.22,s-1))*(r?5:1);return T("+".concat(Math.floor(a),"G"),!1,!1),{...t,gold:e.gold+a,combo:e.combo+1,stage:{currentLevel:s,currentHp:n,maxHp:n,monsterName:r?"\uD83D\uDD31 區域首領 \uD83D\uDD31":"怪物 Lv.".concat(s),isLucky:!1,isBoss:r,timer:30*!!r,maxTimer:30}}}return t})},100);return()=>clearInterval(e)},[R,T]);let L=s=>{let r=Number(s.currentLevel)||0,a=Math.floor((Number(s.basePrice)||0)*Math.pow(Number(s.priceMultiplier)||1,r));if(e.gold<a)return alert("金幣不足");t(e=>{let t=e.attributes[s.targetAttribute],r=s.targetAttribute===o.ATTACK_SPEED?.05:10;return{...e,gold:e.gold-a,attributes:{...e.attributes,[s.targetAttribute]:{...t,value:t.value+r}},shop:{...e.shop,generalItems:e.shop.generalItems.map(e=>e.id===s.id?{...e,currentLevel:(Number(e.currentLevel)||0)+1}:e)}}})},M=e=>{t(t=>{let s={...t.attributes[e.targetAttribute]};return e.effectType===l.ADDITIVE?s.value+=e.effectValue:s.bonusMultiplier+=e.effectValue,{...t,attributes:{...t.attributes,[e.targetAttribute]:s},clickProgress:{...t.clickProgress,pendingUpgrades:t.clickProgress.pendingUpgrades-1},ui:{isUpgradeModalOpen:!1,currentOptions:[]}}})},D=s=>{e.gold<s.price||s.isOwned||t(e=>({...e,gold:e.gold-s.price,shop:{...e.shop,relics:e.shop.relics.map(e=>e.id===s.id?{...e,isOwned:!0}:e)}}))};return(0,r.jsxs)("div",{style:{backgroundColor:"#f1f5f9",position:"relative",overflow:"hidden"},className:"jsx-f6424f8d35ff0494 "+"min-vh-100 d-flex ".concat(k?"shake-anim":""),children:[c.map(e=>(0,r.jsx)("div",{style:{left:"50%",top:"40%",zIndex:9999},className:"jsx-f6424f8d35ff0494 "+"popup-text ".concat(e.isCrit?"crit":""),children:e.text},e.id)),(0,r.jsxs)("div",{style:{width:"80px",zIndex:100},className:"jsx-f6424f8d35ff0494 bg-dark text-white d-flex flex-column align-items-center py-4 shadow",children:[(0,r.jsxs)("div",{onClick:()=>w(!0),style:{cursor:"pointer"},className:"jsx-f6424f8d35ff0494 mb-4 text-center",children:[(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 "+"fs-2 ".concat(z?"animate-spin":""),children:"☁️"}),(0,r.jsx)("small",{style:{fontSize:"10px"},className:"jsx-f6424f8d35ff0494",children:"同步"})]}),(0,r.jsxs)("div",{onClick:()=>g(!0),style:{cursor:"pointer"},className:"jsx-f6424f8d35ff0494 text-center",children:[(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 fs-2 text-warning",children:"\uD83D\uDED2"}),(0,r.jsx)("small",{style:{fontSize:"10px"},className:"jsx-f6424f8d35ff0494",children:"商店"})]})]}),(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 flex-grow-1 p-4 overflow-auto",children:(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 container",children:(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 row g-4 justify-content-center",children:[(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 col-12 d-flex justify-content-between align-items-center text-dark",children:[(0,r.jsx)("h4",{className:"jsx-f6424f8d35ff0494 fw-bold mb-0",children:"萬事屋免洗遊戲"}),_&&(0,r.jsx)("span",{className:"jsx-f6424f8d35ff0494 badge bg-white text-dark border shadow-sm",children:z?"⚡ 同步中":"存檔: ".concat(_)})]}),(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 col-12 text-center",children:(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 card shadow border-0 p-4 bg-white text-dark",children:[(0,r.jsxs)("h2",{className:"jsx-f6424f8d35ff0494 fw-bold",children:["STAGE ",e.stage.currentLevel]}),(0,r.jsx)("div",{style:{height:"30px",borderRadius:"15px"},className:"jsx-f6424f8d35ff0494 progress mt-3",children:(0,r.jsx)("div",{style:{width:"".concat(e.stage.currentHp/e.stage.maxHp*100,"%")},className:"jsx-f6424f8d35ff0494 "+"progress-bar progress-bar-striped progress-bar-animated ".concat(e.stage.isBoss?"bg-danger":"bg-success"),children:(0,r.jsxs)("b",{className:"jsx-f6424f8d35ff0494",children:[Math.ceil(e.stage.currentHp).toLocaleString()," HP"]})})})]})}),(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 col-md-4",children:(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 card shadow border-0 h-100 p-3 bg-white text-dark",children:[(0,r.jsx)("h5",{className:"jsx-f6424f8d35ff0494 border-bottom pb-2 fw-bold text-center",children:"數據指標"}),(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 py-2 px-1",children:[(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 d-flex justify-content-between mb-2",children:[(0,r.jsx)("span",{className:"jsx-f6424f8d35ff0494",children:"持有金幣:"}),(0,r.jsxs)("b",{className:"jsx-f6424f8d35ff0494 text-success",children:["$",e.gold.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 d-flex justify-content-between mb-2",children:[(0,r.jsx)("span",{className:"jsx-f6424f8d35ff0494",children:"秒傷 (DPS):"}),(0,r.jsx)("b",{className:"jsx-f6424f8d35ff0494",children:R.dps.toFixed(1)})]}),(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 d-flex justify-content-between mb-2",children:[(0,r.jsx)("span",{className:"jsx-f6424f8d35ff0494",children:"暴擊機率:"}),(0,r.jsxs)("b",{className:"jsx-f6424f8d35ff0494 text-danger",children:[(100*R.critRate).toFixed(1),"%"]})]}),(0,r.jsx)("hr",{className:"jsx-f6424f8d35ff0494 my-2"}),(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 d-flex justify-content-between mb-1",children:[(0,r.jsx)("small",{className:"jsx-f6424f8d35ff0494 text-muted",children:"金幣基礎加成:"}),(0,r.jsxs)("small",{className:"jsx-f6424f8d35ff0494 fw-bold",children:["+",R.displayGoldBase,"%"]})]}),(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 d-flex justify-content-between mb-1",children:[(0,r.jsx)("small",{className:"jsx-f6424f8d35ff0494 text-muted",children:"金幣獲得倍率:"}),(0,r.jsxs)("small",{className:"jsx-f6424f8d35ff0494 fw-bold text-primary",children:["x",R.displayGoldMulti.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 d-flex justify-content-between mt-2 pt-1 border-top border-light",children:[(0,r.jsx)("span",{className:"jsx-f6424f8d35ff0494 fw-bold",children:"最終收益加成:"}),(0,r.jsxs)("b",{className:"jsx-f6424f8d35ff0494 text-warning",children:["+",R.displayGoldTotal,"%"]})]}),(0,r.jsx)("hr",{className:"jsx-f6424f8d35ff0494"}),(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 text-muted small text-center",children:["總點擊次數: ",e.clickProgress.totalClicks]})]})]})}),(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 col-md-4 text-center",children:(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 card shadow border-0 h-100 p-4 bg-white text-dark d-flex flex-column align-items-center justify-content-center",children:[(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 d-flex justify-content-center w-100 mb-4",children:(0,r.jsx)("button",{onClick:()=>{N(!0),setTimeout(()=>N(!1),100);let e=Math.random()<R.critRate,s=Math.ceil(+R.goldMultiplier);T(e?"CRIT!!":"+".concat(s,"G"),!0,e),t(e=>({...e,gold:e.gold+s,clickProgress:{...e.clickProgress,currentClicks:e.clickProgress.currentClicks+1>=10?0:e.clickProgress.currentClicks+1,pendingUpgrades:e.clickProgress.currentClicks+1>=10?e.clickProgress.pendingUpgrades+1:e.clickProgress.pendingUpgrades,totalClicks:e.clickProgress.totalClicks+1}}))},className:"jsx-f6424f8d35ff0494 attack-btn shadow",children:"ATTACK"})}),(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 w-100 px-2",children:[(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 d-flex justify-content-between mb-1",children:[(0,r.jsx)("small",{className:"jsx-f6424f8d35ff0494 text-muted fw-bold",children:"進化能量"}),(0,r.jsxs)("small",{className:"jsx-f6424f8d35ff0494 text-muted",children:[Math.floor(e.clickProgress.currentClicks),"/10"]})]}),(0,r.jsx)("div",{style:{height:"10px",borderRadius:"5px"},className:"jsx-f6424f8d35ff0494 progress",children:(0,r.jsx)("div",{style:{width:"".concat(e.clickProgress.currentClicks/10*100,"%"),transition:"width 0.2s ease"},className:"jsx-f6424f8d35ff0494 progress-bar bg-warning"})})]})]})}),(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 col-md-4",children:(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 card shadow border-0 h-100 p-3 bg-white text-dark",children:[(0,r.jsx)("h5",{className:"jsx-f6424f8d35ff0494 border-bottom pb-2 fw-bold text-center",children:"能力進化"}),e.clickProgress.pendingUpgrades>0&&!e.ui.isUpgradeModalOpen&&(0,r.jsx)("button",{onClick:()=>{if(!s)return;let e=[...s.upgradePool],r=[];for(let t=0;t<3;t++){let t=Math.floor(Math.random()*e.length);r.push({...e[t],id:Math.random().toString()})}t(e=>({...e,ui:{isUpgradeModalOpen:!0,currentOptions:r}}))},className:"jsx-f6424f8d35ff0494 btn btn-success w-100 py-3 mt-2 fw-bold animate-pulse",children:"⚡ 進行進化 ⚡"}),(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 list-group mt-2",children:e.ui.isUpgradeModalOpen&&e.ui.currentOptions.map(e=>(0,r.jsxs)("button",{onClick:()=>M(e),className:"jsx-f6424f8d35ff0494 "+"list-group-item list-group-item-action mb-2 rarity-card rarity-".concat(e.rarity.toLowerCase()),children:[(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 d-flex justify-content-between align-items-center",children:[(0,r.jsx)("span",{className:"jsx-f6424f8d35ff0494 fw-bold small",children:e.name}),(0,r.jsx)("span",{style:{fontSize:"0.6rem"},className:"jsx-f6424f8d35ff0494 "+"badge rarity-tag-".concat(e.rarity.toLowerCase()),children:e.rarity})]}),(0,r.jsx)("div",{style:{fontSize:"0.7rem"},className:"jsx-f6424f8d35ff0494 text-muted mt-1 text-start",children:e.description}),e.rarity===f.LEGEND&&(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 legend-shimmer"})]},e.id))})]})})]})})}),b&&(0,r.jsx)("div",{style:{backgroundColor:"rgba(0,0,0,0.8)",zIndex:1050},className:"jsx-f6424f8d35ff0494 modal show d-block shadow",children:(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 modal-dialog modal-lg modal-dialog-centered",children:(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 modal-content border-0",children:[(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 modal-header bg-dark text-white border-0",children:[(0,r.jsx)("h5",{className:"jsx-f6424f8d35ff0494 modal-title",children:"萬事屋商店"}),(0,r.jsx)("button",{type:"button",onClick:()=>g(!1),className:"jsx-f6424f8d35ff0494 btn-close btn-close-white"})]}),(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 modal-body p-0 text-dark text-dark",children:[(0,r.jsxs)("ul",{className:"jsx-f6424f8d35ff0494 nav nav-tabs nav-fill",children:[(0,r.jsx)("li",{className:"jsx-f6424f8d35ff0494 nav-item",children:(0,r.jsx)("button",{onClick:()=>y("GENERAL"),className:"jsx-f6424f8d35ff0494 "+"nav-link rounded-0 ".concat("GENERAL"===j?"active":""),children:"屬性升級"})}),(0,r.jsx)("li",{className:"jsx-f6424f8d35ff0494 nav-item",children:(0,r.jsx)("button",{onClick:()=>y("RELIC"),className:"jsx-f6424f8d35ff0494 "+"nav-link rounded-0 ".concat("RELIC"===j?"active":""),children:"稀有文物"})})]}),(0,r.jsx)("div",{style:{maxHeight:"400px"},className:"jsx-f6424f8d35ff0494 p-4 overflow-auto",children:"GENERAL"===j?e.shop.generalItems.map(t=>{let s=Number(t.currentLevel)||0,a=Math.floor((Number(t.basePrice)||0)*Math.pow(Number(t.priceMultiplier)||1,s));return(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 d-flex justify-content-between align-items-center mb-3 p-3 bg-light rounded text-dark",children:[(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494",children:[(0,r.jsx)("b",{className:"jsx-f6424f8d35ff0494",children:t.name})," ",(0,r.jsxs)("small",{className:"jsx-f6424f8d35ff0494 text-muted ms-1",children:["(Lv.",s,")"]})]}),(0,r.jsxs)("button",{onClick:()=>L(t),className:"jsx-f6424f8d35ff0494 "+"btn btn-sm ".concat(e.gold>=a?"btn-success":"btn-secondary disabled"),children:["\uD83D\uDCB0 $",isNaN(a)?0:a.toLocaleString()]})]},t.id)}):e.shop.relics.map(t=>(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 d-flex justify-content-between align-items-center mb-3 p-3 border border-info rounded bg-white text-dark",children:[(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494",children:[(0,r.jsx)("b",{className:"jsx-f6424f8d35ff0494",children:t.name}),(0,r.jsx)("br",{className:"jsx-f6424f8d35ff0494"}),(0,r.jsx)("small",{className:"jsx-f6424f8d35ff0494 text-muted",children:t.description})]}),(0,r.jsx)("button",{onClick:()=>D(t),className:"jsx-f6424f8d35ff0494 "+"btn btn-sm ".concat(t.isOwned?"btn-secondary disabled":e.gold>=Number(t.price)?"btn-warning":"btn-secondary disabled"),children:t.isOwned?"已持有":"\uD83D\uDCB0 $".concat(Number(t.price).toLocaleString())})]},t.id))})]}),(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 modal-footer bg-light border-0 fw-bold text-success text-end d-block",children:["目前金幣: $",e.gold.toLocaleString()]})]})})}),v&&(0,r.jsx)("div",{style:{backgroundColor:"rgba(0,0,0,0.8)",zIndex:1100},className:"jsx-f6424f8d35ff0494 modal show d-block",children:(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 modal-dialog modal-dialog-centered",children:(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 modal-content border-0 text-dark",children:[(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 modal-header bg-primary text-white border-0",children:[(0,r.jsx)("h5",{className:"jsx-f6424f8d35ff0494 modal-title",children:"雲端同步"}),(0,r.jsx)("button",{onClick:()=>w(!1),className:"jsx-f6424f8d35ff0494 btn-close btn-close-white"})]}),(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 modal-body p-4 text-dark",children:[(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 position-relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"請輸入存檔金鑰",value:_,onChange:e=>S(e.target.value),disabled:z,className:"jsx-f6424f8d35ff0494 form-control mb-1 shadow-sm"}),(0,r.jsx)("div",{style:{minHeight:"20px"},className:"jsx-f6424f8d35ff0494 text-end w-100",children:(0,r.jsx)("small",{style:{fontSize:"11px"},className:"jsx-f6424f8d35ff0494 text-muted",children:z?"⚡ 同步中...":C?"最後同步: ".concat(C.toLocaleTimeString()):"尚未進行同步"})})]}),(0,r.jsxs)("div",{className:"jsx-f6424f8d35ff0494 row g-2 mt-2",children:[(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 col-6",children:(0,r.jsx)("button",{onClick:()=>O(!1),disabled:z,className:"jsx-f6424f8d35ff0494 btn btn-outline-primary w-100 fw-bold",children:z?"⌛ 等待中":"\uD83D\uDCE5 下載讀檔"})}),(0,r.jsx)("div",{className:"jsx-f6424f8d35ff0494 col-6",children:(0,r.jsx)("button",{onClick:()=>I(!1),disabled:z,className:"jsx-f6424f8d35ff0494 btn btn-primary w-100 fw-bold",children:z?"⌛ 上傳中":"\uD83D\uDCE4 上傳存檔"})})]})]})]})})}),(0,r.jsx)(n(),{id:"f6424f8d35ff0494",children:".shake-anim.jsx-f6424f8d35ff0494{-webkit-animation:shake.15s cubic-bezier(.36,.07,.19,.97)both;-moz-animation:shake.15s cubic-bezier(.36,.07,.19,.97)both;-o-animation:shake.15s cubic-bezier(.36,.07,.19,.97)both;animation:shake.15s cubic-bezier(.36,.07,.19,.97)both;-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden}@-webkit-keyframes shake{10%,90%{-webkit-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-webkit-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-webkit-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-webkit-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}@-moz-keyframes shake{10%,90%{-moz-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-moz-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-moz-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-moz-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}@-o-keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-4px,0,0)}40%,60%{transform:translate3d(4px,0,0)}}@keyframes shake{10%,90%{-webkit-transform:translate3d(-1px,0,0);-moz-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-webkit-transform:translate3d(2px,0,0);-moz-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-webkit-transform:translate3d(-4px,0,0);-moz-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-webkit-transform:translate3d(4px,0,0);-moz-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}.attack-btn.jsx-f6424f8d35ff0494{width:120px;height:120px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;border:6px solid#f8fafc;background:#3b82f6;color:white;font-weight:900;cursor:pointer;-webkit-transition:-webkit-transform.1s;-moz-transition:-moz-transform.1s;-o-transition:-o-transform.1s;transition:-webkit-transform.1s;transition:-moz-transform.1s;transition:-o-transform.1s;transition:transform.1s;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.attack-btn.jsx-f6424f8d35ff0494:active{-webkit-transform:scale(.92);-moz-transform:scale(.92);-ms-transform:scale(.92);-o-transform:scale(.92);transform:scale(.92)}.popup-text.jsx-f6424f8d35ff0494{position:absolute;font-weight:900;color:#fbbf24;pointer-events:none;-webkit-animation:floatUp.8s ease-out forwards;-moz-animation:floatUp.8s ease-out forwards;-o-animation:floatUp.8s ease-out forwards;animation:floatUp.8s ease-out forwards;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.popup-text.crit.jsx-f6424f8d35ff0494{color:#ef4444;font-size:2.2rem;text-shadow:0 0 10px white}@-webkit-keyframes floatUp{0%{-webkit-transform:translate(-50%,0);transform:translate(-50%,0);opacity:1}100%{-webkit-transform:translate(-50%,-100px);transform:translate(-50%,-100px);opacity:0}}@-moz-keyframes floatUp{0%{-moz-transform:translate(-50%,0);transform:translate(-50%,0);opacity:1}100%{-moz-transform:translate(-50%,-100px);transform:translate(-50%,-100px);opacity:0}}@-o-keyframes floatUp{0%{-o-transform:translate(-50%,0);transform:translate(-50%,0);opacity:1}100%{-o-transform:translate(-50%,-100px);transform:translate(-50%,-100px);opacity:0}}@keyframes floatUp{0%{-webkit-transform:translate(-50%,0);-moz-transform:translate(-50%,0);-o-transform:translate(-50%,0);transform:translate(-50%,0);opacity:1}100%{-webkit-transform:translate(-50%,-100px);-moz-transform:translate(-50%,-100px);-o-transform:translate(-50%,-100px);transform:translate(-50%,-100px);opacity:0}}.rarity-card.jsx-f6424f8d35ff0494{border:2px solid#dee2e6;position:relative;overflow:hidden;-webkit-transition:-webkit-transform.2s;-moz-transition:-moz-transform.2s;-o-transition:-o-transform.2s;transition:-webkit-transform.2s;transition:-moz-transform.2s;transition:-o-transform.2s;transition:transform.2s}.rarity-card.jsx-f6424f8d35ff0494:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px)}.rarity-common.jsx-f6424f8d35ff0494{border-color:#94a3b8}.rarity-rare.jsx-f6424f8d35ff0494{border-color:#3b82f6}.rarity-epic.jsx-f6424f8d35ff0494{border-color:#a855f7;-webkit-box-shadow:0 0 10px rgba(168,85,247,.3);-moz-box-shadow:0 0 10px rgba(168,85,247,.3);box-shadow:0 0 10px rgba(168,85,247,.3)}.rarity-legend.jsx-f6424f8d35ff0494{border-color:#f59e0b;-webkit-box-shadow:0 0 20px rgba(245,158,11,.5);-moz-box-shadow:0 0 20px rgba(245,158,11,.5);box-shadow:0 0 20px rgba(245,158,11,.5);-webkit-animation:legend-pulse 2s infinite;-moz-animation:legend-pulse 2s infinite;-o-animation:legend-pulse 2s infinite;animation:legend-pulse 2s infinite}.rarity-tag-common.jsx-f6424f8d35ff0494{background:#64748b;color:white}.rarity-tag-rare.jsx-f6424f8d35ff0494{background:#2563eb;color:white}.rarity-tag-epic.jsx-f6424f8d35ff0494{background:#9333ea;color:white}.rarity-tag-legend.jsx-f6424f8d35ff0494{background:#d97706;color:white}.legend-shimmer.jsx-f6424f8d35ff0494{position:absolute;top:-100%;left:-100%;width:300%;height:300%;background:-webkit-linear-gradient(45deg,transparent 45%,rgba(255,255,255,.6)50%,transparent 55%);background:-moz-linear-gradient(45deg,transparent 45%,rgba(255,255,255,.6)50%,transparent 55%);background:-o-linear-gradient(45deg,transparent 45%,rgba(255,255,255,.6)50%,transparent 55%);background:linear-gradient(45deg,transparent 45%,rgba(255,255,255,.6)50%,transparent 55%);-webkit-animation:shimmer 3s infinite;-moz-animation:shimmer 3s infinite;-o-animation:shimmer 3s infinite;animation:shimmer 3s infinite;pointer-events:none}@-webkit-keyframes shimmer{0%{-webkit-transform:translate(-30%,-30%);transform:translate(-30%,-30%)}100%{-webkit-transform:translate(30%,30%);transform:translate(30%,30%)}}@-moz-keyframes shimmer{0%{-moz-transform:translate(-30%,-30%);transform:translate(-30%,-30%)}100%{-moz-transform:translate(30%,30%);transform:translate(30%,30%)}}@-o-keyframes shimmer{0%{-o-transform:translate(-30%,-30%);transform:translate(-30%,-30%)}100%{-o-transform:translate(30%,30%);transform:translate(30%,30%)}}@keyframes shimmer{0%{-webkit-transform:translate(-30%,-30%);-moz-transform:translate(-30%,-30%);-o-transform:translate(-30%,-30%);transform:translate(-30%,-30%)}100%{-webkit-transform:translate(30%,30%);-moz-transform:translate(30%,30%);-o-transform:translate(30%,30%);transform:translate(30%,30%)}}@-webkit-keyframes legend-pulse{0%,100%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.02);transform:scale(1.02)}}@-moz-keyframes legend-pulse{0%,100%{-moz-transform:scale(1);transform:scale(1)}50%{-moz-transform:scale(1.02);transform:scale(1.02)}}@-o-keyframes legend-pulse{0%,100%{-o-transform:scale(1);transform:scale(1)}50%{-o-transform:scale(1.02);transform:scale(1.02)}}@keyframes legend-pulse{0%,100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.02);-moz-transform:scale(1.02);-o-transform:scale(1.02);transform:scale(1.02)}}.animate-spin.jsx-f6424f8d35ff0494{-webkit-animation:spin 2s linear infinite;-moz-animation:spin 2s linear infinite;-o-animation:spin 2s linear infinite;animation:spin 2s linear infinite}@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})}},68375:()=>{},82269:(e,t,s)=>{"use strict";var r=s(49509);s(68375);var a=s(12115),n=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(a),i=void 0!==r&&r.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,a=t.optimizeForSpeed,n=void 0===a?i:a;f(o(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",f("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){f("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),f(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(f(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(f(o(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var s="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];f(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},s.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];f(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&f(o(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var a=document.head||document.getElementsByTagName("head")[0];return s?a.insertBefore(r,s):a.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function f(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},c={};function m(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return c[r]||(c[r]="jsx-"+d(e+"-"+s)),c[r]}function u(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return c[s]||(c[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[s]}var h=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,r=void 0===s?null:s,a=t.optimizeForSpeed,n=void 0!==a&&a;this._sheet=r||new l({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),r&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),r=s.styleId,a=s.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var n=a.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=n,this._instancesCounts[r]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var r=this._fromServer&&this._fromServer[s];r?(r.parentNode.removeChild(r),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],r=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,r=e.id;if(s){var a=m(r,s);return{styleId:a,rules:Array.isArray(t)?t.map(function(e){return u(a,e)}):[u(a,t)]}}return{styleId:m(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=a.createContext(null);p.displayName="StyleSheetContext";var x=n.default.useInsertionEffect||n.default.useLayoutEffect,b="undefined"!=typeof window?new h:void 0;function g(e){var t=b||a.useContext(p);return t&&("undefined"==typeof window?t.add(e):x(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}g.dynamic=function(e){return e.map(function(e){return m(e[0],e[1])}).join(" ")},t.style=g}}]);