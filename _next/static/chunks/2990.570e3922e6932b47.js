"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2990],{12990:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r=n(95155),a=n(35695),s=n(40283),l=n(55028);let o=(0,l.default)(()=>Promise.all([n.e(6874),n.e(6766),n.e(2278)]).then(n.bind(n,12278)),{loadableGenerated:{webpack:()=>[12278]},ssr:!1}),u=(0,l.default)(()=>n.e(1875).then(n.bind(n,31875)),{loadableGenerated:{webpack:()=>[31875]},ssr:!1}),i=(0,l.default)(()=>n.e(7761).then(n.bind(n,77761)),{loadableGenerated:{webpack:()=>[77761]},ssr:!1}),d=(0,l.default)(()=>Promise.all([n.e(5737),n.e(1721)]).then(n.bind(n,91721)),{loadableGenerated:{webpack:()=>[91721]},ssr:!1}),c=(0,l.default)(()=>n.e(6927).then(n.bind(n,46927)),{loadableGenerated:{webpack:()=>[46927]},ssr:!1}),h=["/clickAscension","/towerDefense"],m=["/clickAscension"];function w(e){let{children:t}=e,n=(0,a.usePathname)(),l=h.some(e=>null==n?void 0:n.startsWith(e)),w=m.some(e=>null==n?void 0:n.startsWith(e));return(0,r.jsxs)(s.O,{children:[(0,r.jsx)(i,{}),!w&&(0,r.jsx)(o,{}),(0,r.jsx)("main",{className:l?"":"container-fluid p-0",children:t}),!l&&(0,r.jsx)(u,{}),(0,r.jsx)(d,{}),(0,r.jsx)(c,{}),(0,r.jsx)("noscript",{children:"You need to enable JavaScript to run this app."})]})}},35695:(e,t,n)=>{var r=n(18999);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},40283:(e,t,n)=>{n.d(t,{A:()=>o,O:()=>l});var r=n(95155),a=n(12115);let s=(0,a.createContext)(void 0),l=e=>{let{children:t}=e,[n,l]=(0,a.useState)(!1),[o,u]=(0,a.useState)({isAuthenticated:!1,userId:null,username:null});(0,a.useEffect)(()=>{let e=()=>{{let e=localStorage.getItem("user_id"),t=localStorage.getItem("username");e&&t?u({isAuthenticated:!0,userId:e,username:t}):u({isAuthenticated:!1,userId:null,username:null})}};return e(),l(!0),window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]);let i={...o,isInitialized:n,login:(e,t)=>{try{localStorage.setItem("user_id",e),localStorage.setItem("username",t),u({isAuthenticated:!0,userId:e,username:t}),window.dispatchEvent(new Event("storage"))}catch(e){throw console.error("登入時出錯:",e),e}},logout:()=>{try{localStorage.removeItem("user_id"),localStorage.removeItem("username"),u({isAuthenticated:!1,userId:null,username:null}),window.dispatchEvent(new Event("storage"))}catch(e){throw console.error("登出時出錯:",e),e}}};return(0,r.jsx)(s.Provider,{value:i,children:t})},o=()=>{let e=(0,a.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}}]);