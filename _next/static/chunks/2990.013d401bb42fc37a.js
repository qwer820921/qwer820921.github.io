"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2990],{12990:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var a=r(95155),n=r(40283),s=r(55028);let l=(0,s.default)(()=>r.e(3900).then(r.bind(r,23900)),{loadableGenerated:{webpack:()=>[23900]},ssr:!1}),o=(0,s.default)(()=>r.e(1875).then(r.bind(r,31875)),{loadableGenerated:{webpack:()=>[31875]},ssr:!1}),d=(0,s.default)(()=>r.e(7761).then(r.bind(r,77761)),{loadableGenerated:{webpack:()=>[77761]},ssr:!1}),u=(0,s.default)(()=>Promise.all([r.e(5737),r.e(1721)]).then(r.bind(r,91721)),{loadableGenerated:{webpack:()=>[91721]},ssr:!1}),i=(0,s.default)(()=>r.e(6927).then(r.bind(r,46927)),{loadableGenerated:{webpack:()=>[46927]},ssr:!1});function c(e){let{children:t}=e;return(0,a.jsxs)(n.O,{children:[(0,a.jsx)(d,{}),(0,a.jsx)(l,{}),(0,a.jsx)("main",{className:"container-fluid mt-5",children:t}),(0,a.jsx)(o,{}),(0,a.jsx)(u,{}),(0,a.jsx)(i,{}),(0,a.jsx)("noscript",{children:"You need to enable JavaScript to run this app."})]})}},40283:(e,t,r)=>{r.d(t,{A:()=>o,O:()=>l});var a=r(95155),n=r(12115);let s=(0,n.createContext)(void 0),l=e=>{let{children:t}=e,[r,l]=(0,n.useState)(!1),[o,d]=(0,n.useState)({isAuthenticated:!1,userId:null,username:null});(0,n.useEffect)(()=>{let e=()=>{{let e=localStorage.getItem("user_id"),t=localStorage.getItem("username");e&&t?d({isAuthenticated:!0,userId:e,username:t}):d({isAuthenticated:!1,userId:null,username:null})}};return e(),l(!0),window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]);let u={...o,isInitialized:r,login:(e,t)=>{try{localStorage.setItem("user_id",e),localStorage.setItem("username",t),d({isAuthenticated:!0,userId:e,username:t}),window.dispatchEvent(new Event("storage"))}catch(e){throw console.error("登入時出錯:",e),e}},logout:()=>{try{localStorage.removeItem("user_id"),localStorage.removeItem("username"),d({isAuthenticated:!1,userId:null,username:null}),window.dispatchEvent(new Event("storage"))}catch(e){throw console.error("登出時出錯:",e),e}}};return(0,a.jsx)(s.Provider,{value:u,children:t})},o=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}}]);