"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2990],{12990:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var r=a(95155),n=a(35695),s=a(40283),l=a(55028);let u=(0,l.default)(()=>Promise.all([a.e(6874),a.e(2278)]).then(a.bind(a,12278)),{loadableGenerated:{webpack:()=>[12278]},ssr:!1}),o=(0,l.default)(()=>a.e(1875).then(a.bind(a,31875)),{loadableGenerated:{webpack:()=>[31875]},ssr:!1}),d=(0,l.default)(()=>a.e(7761).then(a.bind(a,77761)),{loadableGenerated:{webpack:()=>[77761]},ssr:!1}),i=(0,l.default)(()=>Promise.all([a.e(5737),a.e(1721)]).then(a.bind(a,91721)),{loadableGenerated:{webpack:()=>[91721]},ssr:!1}),c=(0,l.default)(()=>a.e(6927).then(a.bind(a,46927)),{loadableGenerated:{webpack:()=>[46927]},ssr:!1}),h=["/clickAscension"];function m(e){let{children:t}=e,a=(0,n.usePathname)(),l=h.some(e=>null==a?void 0:a.startsWith(e));return(0,r.jsxs)(s.O,{children:[(0,r.jsx)(d,{}),(0,r.jsx)(u,{}),(0,r.jsx)("main",{className:l?"":"container-fluid mt-5 p-0",children:t}),!l&&(0,r.jsx)(o,{}),(0,r.jsx)(i,{}),(0,r.jsx)(c,{}),(0,r.jsx)("noscript",{children:"You need to enable JavaScript to run this app."})]})}},35695:(e,t,a)=>{var r=a(18999);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},40283:(e,t,a)=>{a.d(t,{A:()=>u,O:()=>l});var r=a(95155),n=a(12115);let s=(0,n.createContext)(void 0),l=e=>{let{children:t}=e,[a,l]=(0,n.useState)(!1),[u,o]=(0,n.useState)({isAuthenticated:!1,userId:null,username:null});(0,n.useEffect)(()=>{let e=()=>{{let e=localStorage.getItem("user_id"),t=localStorage.getItem("username");e&&t?o({isAuthenticated:!0,userId:e,username:t}):o({isAuthenticated:!1,userId:null,username:null})}};return e(),l(!0),window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]);let d={...u,isInitialized:a,login:(e,t)=>{try{localStorage.setItem("user_id",e),localStorage.setItem("username",t),o({isAuthenticated:!0,userId:e,username:t}),window.dispatchEvent(new Event("storage"))}catch(e){throw console.error("登入時出錯:",e),e}},logout:()=>{try{localStorage.removeItem("user_id"),localStorage.removeItem("username"),o({isAuthenticated:!1,userId:null,username:null}),window.dispatchEvent(new Event("storage"))}catch(e){throw console.error("登出時出錯:",e),e}}};return(0,r.jsx)(s.Provider,{value:d,children:t})},u=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}}]);